<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* üé® Vari√°veis de Cor e Estilo */
        :root {
            --primary-color: #8a2be2;     /* BlueViolet Principal */
            --primary-light: #a052f5;     
            --background-color: #120e1a;  /* Fundo Escuro */
            --text-color: #e0e0e0;        
            --secondary-color: #fff;      
            --glass-bg: rgba(255, 255, 255, 0.05); /* Fundo de vidro */
            --glass-border: rgba(255, 255, 255, 0.1); /* Borda de vidro */
            --blur-value: 10px;                  
            --font-stack: 'Poppins', 'Helvetica Neue', Arial, sans-serif;
            --menu-width: 250px; 
            --action-color: #1DB954; /* Cor de a√ß√£o (Spotify verde) */
            --list-width-desktop: 400px; /* Largura da lista de characters no desktop */
            --panel-width-desktop: 400px; /* Largura m√≠nima do painel de perfil no desktop */
        }

        /* Reset e Layout de Tela Cheia */
        * { box-sizing: border-box; }
        html, body { 
            height: 100%; 
            margin: 0; 
            padding: 0; 
            overflow-x: hidden; 
        }
        body {
            font-family: var(--font-stack); 
            background-color: var(--background-color);
            color: var(--text-color); 
            display: flex; 
            position: relative; 
            left: 0; 
            transition: left 0.3s ease-out;
            align-items: stretch; 
        }
        
        /* ‚ò∞ ESTILOS DA SIDEBAR (Menu Lateral) ‚ò∞ */
        .sidebar { 
            position: fixed; 
            top: 0; 
            left: 0; 
            height: 100%; 
            width: var(--menu-width); 
            background-color: #1a1524; 
            padding-top: 20px;
            transform: translateX(-100%); 
            transition: transform 0.3s ease-out; 
            z-index: 1000; 
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5); 
            display: flex; 
            flex-direction: column;
        }
        .sidebar-header {
            padding: 15px 20px; font-size: 18px; font-weight: 700; color: var(--primary-light);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        .sidebar-nav {
            flex-grow: 1; 
            overflow-y: auto;
        }
        .sidebar-nav a {
            display: flex; /* Adicionado para alinhar √≠cone e texto */
            align-items: center; /* Alinha verticalmente */
            padding: 12px 20px; 
            color: var(--text-color); 
            text-decoration: none;
            font-size: 15px; 
            transition: background-color 0.2s, border-left 0.2s, padding-left 0.2s;
        }
        /* Estilo para o √≠cone dentro do link do sidebar */
        .sidebar-nav a i {
            margin-right: 12px; /* Espa√ßo entre o √≠cone e o texto */
            width: 18px; /* Garante que todos os √≠cones ocupem a mesma largura */
            text-align: center;
            color: var(--primary-light); /* Cor do √≠cone */
        }

        .sidebar-nav a:hover, .sidebar-nav a.active {
            background-color: rgba(138, 43, 226, 0.2); 
            border-left: 3px solid var(--primary-light); 
            padding-left: 17px; 
        }
        .menu-open .sidebar { 
            transform: translateX(0); 
        }

        /* Bot√£o de fechar o sidebar (Escondido por padr√£o) */
        #close-sidebar-button {
            display: none; 
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            line-height: 1;
            position: absolute; 
            right: 15px; 
            top: 15px;
        }
        
        /* Container Principal (Lista de Characters) */
        .direct-container {
            width: 100%; 
            max-width: var(--list-width-desktop); 
            height: 100%; 
            display: flex; 
            flex-direction: column; 
            background: var(--glass-bg); 
            backdrop-filter: blur(var(--blur-value));
            -webkit-backdrop-filter: blur(var(--blur-value));
            border-left: 1px solid var(--glass-border); 
            border-right: 1px solid var(--glass-border);
            padding: 0; 
            border-radius: 0; 
            transition: transform 0.3s ease-out; 
            margin-left: 0; 
            flex-shrink: 0; 
        }
        .menu-open .direct-container {
            transform: translateX(var(--menu-width)); 
            box-shadow: -10px 0 20px rgba(0, 0, 0, 0.5);
        }

        /* Header, Search e Lista de Contatos */
        .direct-header {
            flex-shrink: 0; display: flex; justify-content: space-between; align-items: center;
            padding: 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); position: relative;
        }
        .menu-button { 
            font-size: 24px; color: var(--secondary-color); cursor: pointer; z-index: 10; width: 24px; text-align: center; line-height: 1; 
        }
        .direct-header h2 { 
            position: absolute; left: 50%; transform: translateX(-50%); margin: 0; 
            font-size: 18px; font-weight: 700; color: var(--secondary-color); z-index: 5;
        }
        .search-bar { flex-shrink: 0; padding: 10px 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .search-bar input[type="text"] {
            width: 100%; padding: 10px 15px; border: none; border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1); color: var(--text-color);
            font-family: var(--font-stack); font-size: 14px;
        }
        .filter-tabs { 
            flex-shrink: 0; padding: 10px 15px; overflow-x: auto; white-space: nowrap; 
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
            -ms-overflow-style: none; scrollbar-width: none; 
        }
        .filter-tabs button { 
            background: rgba(255, 255, 255, 0.1); color: var(--text-color); border: 1px solid rgba(255, 255, 255, 0.2); 
            padding: 8px 15px; margin-right: 10px; border-radius: 20px; cursor: pointer; 
            font-size: 13px; font-weight: 500; transition: background-color 0.3s; 
        }
        .filter-tabs button.active { 
            background-color: var(--primary-color); color: var(--secondary-color); 
            border-color: var(--primary-light); box-shadow: 0 0 10px rgba(138, 43, 226, 0.5); 
        }
        .filter-tabs::-webkit-scrollbar { display: none; }
        .contact-list { flex-grow: 1; overflow-y: auto; }
        .contact-list::-webkit-scrollbar { display: none; }
        .contact-item { display: flex; align-items: center; padding: 12px 15px; cursor: pointer; transition: background 0.3s ease, border-left 0.3s ease; border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .contact-item:hover { background-color: rgba(138, 43, 226, 0.1); border-left: 5px solid var(--primary-color); }
        .avatar { width: 50px; height: 50px; border-radius: 50%; margin-right: 15px; object-fit: cover; padding: 2px; }
        .contact-details h3 { margin: 0; font-size: 16px; font-weight: 600; }

        /* Estilos do Painel de Perfil (Profile Panel) */
        .profile-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8); 
            backdrop-filter: blur(5px); 
            -webkit-backdrop-filter: blur(5px); 
            z-index: 2000; 
            opacity: 0; visibility: hidden; 
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        .profile-panel .profile-modal-content {
            background-color: #1a1524; width: 100%; height: 100%; overflow-y: auto; 
            color: var(--text-color); position: relative; padding-bottom: 20px; 
        }
        .profile-open .profile-panel { 
            opacity: 1; visibility: visible; 
        }
        .modal-close-button {
            position: fixed; top: 15px; right: 15px; background: rgba(0, 0, 0, 0.5);
            border: none; border-radius: 50%; width: 35px; height: 35px; font-size: 24px;
            line-height: 1; color: var(--secondary-color); cursor: pointer; z-index: 2010;
            display: flex; justify-content: center; align-items: center;
        }
        .profile-modal-content::-webkit-scrollbar { display: none; }
        .modal-profile-info { padding: 80px 20px 20px; text-align: center; }
        .modal-profile-description { text-align: justify; margin-top: 20px; margin-bottom: 30px; }
        .modal-profile-header {
            text-align: center; padding: 20px;
            background: linear-gradient(to top, var(--background-color), var(--primary-color));
            padding-bottom: 70px; position: relative;
        }
        .modal-profile-avatar {
            width: 120px; height: 120px; border-radius: 50%; object-fit: cover;
            border: 4px solid var(--background-color); position: absolute;
            bottom: -60px; left: 50%; transform: translateX(-50%);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        #music-button {
            background-color: var(--primary-light); color: var(--secondary-color);
            border: none; border-radius: 50%; width: 25px; height: 25px; font-size: 15px;
            cursor: pointer; margin-left: 10px; vertical-align: middle; line-height: 1;
            padding: 0; display: inline-flex; justify-content: center; align-items: center;
            box-shadow: 0 0 8px rgba(138, 43, 226, 0.7); transition: transform 0.2s, opacity 0.2s, background-color 0.3s;
        }
        #music-button.active {
            background-color: #1DB954; 
            box-shadow: 0 0 10px rgba(29, 185, 84, 0.8);
        }
        .profile-info-cards {
            display: flex; overflow-x: auto; padding: 10px 0; margin: 0 20px; gap: 10px;
            -ms-overflow-style: none; scrollbar-width: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .profile-info-cards::-webkit-scrollbar { display: none; }
        .info-card {
            flex: 0 0 auto; width: 140px; padding: 10px;
            background: rgba(255, 255, 255, 0.08); 
            border-radius: 8px; text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.15);
            min-height: 80px;
        }
        .info-card strong { display: block; font-size: 11px; color: var(--primary-light); font-weight: 600; margin-bottom: 3px; text-transform: uppercase; }
        .info-card span { display: block; font-size: 14px; font-weight: 400; color: var(--secondary-color); white-space: normal; }
        .profile-action-cards {
            display: flex; overflow-x: auto; white-space: nowrap; padding: 20px; margin: 0 20px; gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); -ms-overflow-style: none; scrollbar-width: none;
        }
        .profile-action-cards::-webkit-scrollbar { display: none; }
        .action-card {
            flex: 0 0 130px; width: 130px; background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            padding: 15px 10px; border-radius: 12px; text-align: center; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            color: var(--secondary-color); font-weight: 600; font-size: 14px;
        }
        .action-card:hover { transform: translateY(-3px); background: rgba(255, 255, 255, 0.15); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4); }
        .action-card span { display: block; font-size: 28px; margin-bottom: 5px; line-height: 1; }
        #spotify-player-container {
            width: 100%; max-width: 350px; margin: 20px auto; overflow: hidden; 
            display: none; text-align: left;
        }
        #spotify-player-container.active { display: block; }
        #spotify-player-container iframe { width: 100%; height: 80px; border-radius: 8px; border: none; }
        .spotify-title { color: var(--text-color); font-size: 14px; margin-bottom: 5px; font-weight: 600; }

        /* --- Media Query para Desktop (a partir de 768px) --- */
        @media (min-width: 768px) {
            
            /* Layout principal para desktop */
            body {
                justify-content: center; 
                align-items: stretch;
                overflow-y: hidden; 
                left: 0 !important; 
            }

            /* Container da Lista de Characters (Coluna Esquerda) */
            .direct-container {
                max-width: var(--list-width-desktop); 
                transform: none !important;
            }

            /* Menu Sidebar (Flutuante no Desktop) */
            .sidebar {
                position: fixed; 
                height: 100%;
                transform: translateX(-100%) !important; 
                z-index: 1500; 
            }
            
            /* Desktop: Menu √© mostrado deslizante por cima do conte√∫do */
            .menu-open .sidebar {
                transform: translateX(0) !important;
            }

            /* Bot√£o de Fechar Sidebar (Vis√≠vel no Desktop quando aberto) */
            #close-sidebar-button {
                display: none; 
            }

            .menu-open #close-sidebar-button {
                display: flex; 
                justify-content: center;
                align-items: center;
                position: absolute;
                right: 15px; 
                top: 15px;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                background-color: rgba(255, 255, 255, 0.1);
            }

            /* Ocultar o bot√£o de fechar do modal e o bot√£o de menu (no header) no desktop */
            .modal-close-button {
                display: none; 
            }
            .menu-button {
                /* Mant√©m o menu-button vis√≠vel para abrir o menu */
                display: block; 
            }
            
            /* Painel de Perfil (Coluna Direita) */
            .profile-panel {
                position: relative; 
                width: 100%; 
                min-width: var(--panel-width-desktop);
                flex-grow: 1; 
                height: 100%; 
                background-color: transparent; 
                backdrop-filter: none;
                -webkit-backdrop-filter: none;
                z-index: 10; 
                opacity: 1; 
                visibility: visible;
                transform: translateX(var(--panel-width-desktop)); 
                transition: transform 0.3s ease-out; 
            }
            .profile-panel .profile-modal-content {
                height: 100%;
                background: var(--glass-bg); 
                backdrop-filter: blur(var(--blur-value));
                -webkit-backdrop-filter: blur(var(--blur-value));
                border-left: 1px solid var(--glass-border);
            }
            .profile-open .profile-panel {
                transform: translateX(0); 
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="sidebar-header">
            FanWiki
            <button id="close-sidebar-button" aria-label="Fechar Menu Lateral">
                √ó
            </button>
        </div>
        <nav class="sidebar-nav">
            <a href="../Home.html" class="active"><i class="fas fa-home"></i> P√°gina Inicial</a>
            <a href="./Abaut.html"><i class="fas fa-info-circle"></i>Sobre</a>
        </nav>
    </div>

    <div class="direct-container">
        <div class="direct-header">
            <span class="menu-button" id="menu-button">‚ò∞</span>
            <h2>Characters</h2>
            <span class="action-icon"></span> 
        </div>
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Buscar Personagens...">
        </div>
        
        <div class="filter-tabs" id="filter-tabs">
            <button class="active" data-filter="all">All</button>
            <button data-filter="series">Series</button>
            <button data-filter="animes">Animes</button>
            <button data-filter="cartoons">Cartoons</button>
            <button data-filter="films">Films</button>
            <button data-filter="books">Books</button>
            <button data-filter="games">Games</button>
            <button data-filter="comics">Comics</button> 
            <button data-filter="kpop">K-Pop</button> 
            <button data-filter="others">Others</button>
        </div>
        
        <div class="contact-list" id="contact-list">
            <div class="contact-item" data-category="animes" data-character-name="Goku"><img src="https://via.placeholder.com/150/8a2be2/FFFFFF?text=G" alt="Avatar Goku" class="avatar"><div class="contact-details"><h3>Goku</h3></div></div>
            <div class="contact-item" data-category="books" data-character-name="Hermione Granger"><img src="https://via.placeholder.com/150/a052f5/FFFFFF?text=H" alt="Avatar Hermione" class="avatar story-watched"><div class="contact-details"><h3>Hermione Granger</h3></div></div>
            <div class="contact-item" data-category="comics" data-character-name="Mulher Maravilha"><img src="https://via.placeholder.com/150/ff4500/FFFFFF?text=W" alt="Avatar Mulher Maravilha" class="avatar"><div class="contact-details"><h3>Mulher Maravilha</h3></div></div>
            <div class="contact-item" data-category="comics" data-character-name="Batman"><img src="https://via.placeholder.com/150/111111/FFFFFF?text=B" alt="Avatar Batman" class="avatar"><div class="contact-details"><h3>Batman</h3></div></div>
            <div class="contact-item" data-category="comics" data-character-name="Superman"><img src="https://via.placeholder.com/150/00bfff/FFFFFF?text=S" alt="Avatar Superman" class="avatar"><div class="contact-details"><h3>Superman</h3></div></div>
            <div class="contact-item" data-category="kpop" data-character-name="Jimin (BTS)"><img src="https://via.placeholder.com/150/ffc0cb/000000?text=J" alt="Avatar Jimin (BTS)" class="avatar story-watched"><div class="contact-details"><h3>Jimin (BTS)</h3></div></div>
            <div class="contact-item" data-category="kpop" data-character-name="Jennie (BLACKPINK)"><img src="https://via.placeholder.com/150/000000/ffc0cb?text=J" alt="Avatar Jennie (BP)" class="avatar"><div class="contact-details"><h3>Jennie (BLACKPINK)</h3></div></div>
            <div class="contact-item" data-category="series" data-character-name="Daenerys T."><img src="https://via.placeholder.com/150/a052f5/FFFFFF?text=D" alt="Avatar Daenerys" class="avatar story-watched"><div class="contact-details"><h3>Daenerys T.</h3></div></div>
            <div class="contact-item" data-category="games" data-character-name="Link"><img src="https://via.placeholder.com/150/8a2be2/FFFFFF?text=L" alt="Avatar Link" class="avatar"><div class="contact-details"><h3>Link</h3></div></div>
            <div class="contact-item" data-category="series" data-character-name="Jon Snow"><img src="https://via.placeholder.com/150/a052f5/FFFFFF?text=J" alt="Avatar Jon Snow" class="avatar story-watched"><div class="contact-details"><h3>Jon Snow</h3></div></div>
            <div class="contact-item" data-category="animes" data-character-name="Naruto Uzumaki"><img src="https://via.placeholder.com/150/8a2be2/FFFFFF?text=N" alt="Avatar Naruto" class="avatar"><div class="contact-details"><h3>Naruto Uzumaki</h3></div></div>
            <div class="contact-item" data-category="books" data-character-name="Alice (Wonderland)"><img src="https://via.placeholder.com/150/a052f5/FFFFFF?text=A" alt="Avatar Alice" class="avatar story-watched"><div class="contact-details"><h3>Alice (Wonderland)</h3></div></div>
            <div class="contact-item" data-category="films" data-character-name="Katniss Everdeen"><img src="https://via.placeholder.com/150/8a2be2/FFFFFF?text=K" alt="Avatar Katniss" class="avatar"><div class="contact-details"><h3>Katniss Everdeen</h3></div></div>
        </div>
    </div>

    <div class="profile-panel" id="profile-panel">
        <div class="profile-modal-content">
            <button class="modal-close-button" id="modal-close-button">√ó</button> 
            <div class="modal-profile-header">
                <img src="https://via.placeholder.com/150/8a2be2/FFFFFF?text=?" alt="Avatar do Personagem" class="modal-profile-avatar" id="modal-profile-avatar">
            </div>
            <div class="modal-profile-info">
                <h3 id="modal-profile-name">Nome do Personagem</h3>
                <button id="music-button" data-song-title="" data-spotify-id="">üé∂</button>
                <span class="modal-profile-category" id="modal-profile-category">Categoria</span>
                
                <div id="spotify-player-container">
                    <p class="spotify-title" id="spotify-title-display">M√∫sica Tema:</p>
                </div>
                
                <div class="profile-info-cards" id="profile-info-cards">
                    </div>
                
                <p class="modal-profile-description" id="modal-profile-description">Descri√ß√£o do personagem aqui.</p>
                
                <div class="profile-action-cards" id="profile-action-cards">
                    </div>

            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const contactList = document.getElementById('contact-list');
            const menuButton = document.getElementById('menu-button'); 
            const closeSidebarButton = document.getElementById('close-sidebar-button'); 
            const body = document.body; 

            // Elementos do Painel de Perfil
            const profilePanel = document.getElementById('profile-panel'); 
            const modalCloseButton = document.getElementById('modal-close-button');
            const musicButton = document.getElementById('music-button'); 
            const spotifyPlayerContainer = document.getElementById('spotify-player-container');
            const infoCardsContainer = document.getElementById('profile-info-cards'); 
            const actionCardsContainer = document.getElementById('profile-action-cards'); 

            // Outros elementos (para preenchimento de dados)
            const modalProfileAvatar = document.getElementById('modal-profile-avatar');
            const modalProfileName = document.getElementById('modal-profile-name');
            const modalProfileCategory = document.getElementById('modal-profile-category');
            const modalProfileDescription = document.getElementById('modal-profile-description');
            const tabsContainer = document.getElementById('filter-tabs');
            const contactItems = contactList.querySelectorAll('.contact-item');
            const searchInput = document.getElementById('search-input');
            let activeFilter = 'all'; 

            // DADOS DOS PERSONAGENS (Com Comics e K-Pop)
            const charactersData = {
                "Goku": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/f/f5/Goku_Dragon_Ball.png/220px-Goku_Dragon_Ball.png",
                    category: "Animes - Dragon Ball",
                    description: "Son Goku √© o protagonista da franquia Dragon Ball. Ele √© um Saiyajin enviado √† Terra quando crian√ßa e se torna um dos maiores defensores do planeta, enfrentando in√∫meros vil√µes e se tornando cada vez mais forte.",
                    author: "Akira Toriyama", type: "Protagonista", age: "40+", nationality: "Saiyajin/Japon√™s", gender: "Masculino", species: "Saiyajin", friends: "Kuririn, Piccolo, Vegeta", family: "Chichi (Esposa), Gohan (Filho)",
                    song: "Cha-La Head-Cha-La",
                    spotifyId: "5j93iS5c0nNqF3xL7kQx41" 
                },
                "Hermione Granger": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/Hermione_Granger_poster.jpg/220px-Hermione_Granger_poster.jpg",
                    category: "Livros - Harry Potter",
                    description: "Hermione Jean Granger √© uma bruxa nascida trouxa, a √∫nica filha de Sr. e Sra. Granger, dentistas. Ela foi a melhor amiga de Harry Potter e Rony Weasley e uma membro integral da Armada de Dumbledore.",
                    author: "J.K. Rowling", type: "Trio Principal", age: "11-38", nationality: "Brit√¢nica", gender: "Feminino", species: "Humana (Bruxa)", friends: "Harry Potter, Gina Weasley", family: "Rony Weasley (Marido), Pais (Trouxas)",
                    song: "Hedwig's Theme (Instrumental)",
                    spotifyId: "6iX94d0N4q9WnQn3xW6B0k"
                },
                "Sherlock Holmes": {
                    avatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Sherlock_Holmes_Illustration.jpg/220px-Sherlock_Holmes_Illustration.jpg",
                    category: "Livros - Cl√°ssicos",
                    description: "Sherlock Holmes √© um detetive consultor brit√¢nico fict√≠cio criado pelo autor e m√©dico escoc√™s Sir Arthur Conan Doyle. Conhecido por sua intelig√™ncia, observa√ß√£o e racioc√≠nio dedutivo.",
                    author: "Arthur Conan Doyle", type: "Detetive", age: "30s-60s", nationality: "Brit√¢nica", gender: "Masculino", species: "Humana", friends: "Dr. Watson, Sra. Hudson", family: "Mycroft Holmes (Irm√£o)",
                    song: "The Game Is Afoot",
                    spotifyId: "6I1v88P9Wk2j662t4z3c4d"
                },
                // --- NOVOS PERSONAGENS COMICS ---
                "Mulher Maravilha": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Wonder_Woman_Rebirth.jpg/220px-Wonder_Woman_Rebirth.jpg",
                    category: "Comics - DC Comics",
                    description: "Diana Prince, a Mulher Maravilha, √© uma amazona e princesa de Themyscira. Ela √© uma das super-hero√≠nas mais ic√¥nicas, defensora da justi√ßa, amor, paz e igualdade no mundo dos homens.",
                    author: "William Moulton Marston", type: "Super-Hero√≠na", age: "Mil√™nios", nationality: "Themyscira (Grega)", gender: "Feminino", species: "Amazona", friends: "Batman, Superman", family: "Rainha Hip√≥lita (M√£e)",
                    song: "Is She With You?",
                    spotifyId: "7q6gGv8oTj0Xgq91T81z4W" 
                },
                "Batman": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/7/77/Batman_Arkham_Knight.jpg/220px-Batman_Arkham_Knight.jpg",
                    category: "Comics - DC Comics",
                    description: "Bruce Wayne, o Batman, √© um vigilante de Gotham City que luta contra o crime usando tecnologia, intelig√™ncia e treinamento f√≠sico, sem superpoderes. √â conhecido como o Maior Detetive do Mundo.",
                    author: "Bob Kane, Bill Finger", type: "Vigilante/Her√≥i", age: "30s-40s", nationality: "Americano", gender: "Masculino", species: "Humano", friends: "Alfred, Robin, Comiss√°rio Gordon", family: "Thomas e Martha Wayne (Pais falecidos)",
                    song: "A Dark Knight",
                    spotifyId: "1P2c9nF9sP8q8S8y1N8v7D"
                },
                "Superman": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/e/eb/Superman_DCAU.jpg/220px-Superman_DCAU.jpg",
                    category: "Comics - DC Comics",
                    description: "Kal-El, ou Clark Kent, √© o Superman, um alien√≠gena do planeta Krypton enviado √† Terra para sobreviver. Ele usa seus superpoderes para proteger a humanidade e defender a verdade, a justi√ßa e o modo de vida americano.",
                    author: "Jerry Siegel, Joe Shuster", type: "Super-Her√≥i", age: "30s", nationality: "Kryptoniano/Americano", gender: "Masculino", species: "Kryptoniano", friends: "Lois Lane, Jimmy Olsen", family: "Jonathan e Martha Kent (Pais adotivos)",
                    song: "Theme from Superman (1978)",
                    spotifyId: "1w31x3H8W4hN0m2W6o1QfM" 
                },
                // --- NOVOS PERSONAGENS K-POP ---
                "Jimin (BTS)": {
                    avatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Park_Ji-min_at_the_2022_Fact_Music_Awards.jpg/220px-Park_Ji-min_at_the_2022_Fact_Music_Awards.jpg",
                    category: "K-Pop - BTS",
                    description: "Park Ji-min, conhecido como Jimin, √© um cantor, dan√ßarino e compositor sul-coreano. Ele √© vocalista e dan√ßarino principal do grupo masculino de K-Pop, BTS.",
                    author: "Big Hit Entertainment", type: "Idol", age: "28", nationality: "Sul-Coreano", gender: "Masculino", species: "Humano", friends: "Membros do BTS", family: "Pai, M√£e, Irm√£o",
                    song: "Filter",
                    spotifyId: "3NyPVEAIX1b89UymHj4CgN"
                },
                "Jennie (BLACKPINK)": {
                    avatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Jennie_at_the_2022_Fact_Music_Awards.jpg/220px-Jennie_at_the_2022_Fact_Music_Awards.jpg",
                    category: "K-Pop - BLACKPINK",
                    description: "Jennie Kim, conhecida como Jennie, √© uma cantora, rapper e modelo sul-coreana. Ela √© membro do popular grupo feminino BLACKPINK.",
                    author: "YG Entertainment", type: "Idol", age: "29", nationality: "Sul-Coreana", gender: "Feminino", species: "Humana", friends: "Membros do BLACKPINK", family: "Pais",
                    song: "SOLO",
                    spotifyId: "0Qo54zC7X4fK7VjYp7Vw8o"
                },
                // --- PERSONAGENS ORIGINAIS (MANTIDOS) ---
                "Daenerys T.": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/0/0d/Daenerys_Targaryen_-_Game_of_Thrones.jpg/220px-Daenerys_Targaryen_-_Game_of_Thrones.jpg",
                    category: "S√©ries - Game of Thrones",
                    description: "Daenerys Targaryen √© a √∫ltima herdeira confirmada da Casa Targaryen e busca reivindicar o Trono de Ferro de Westeros. M√£e dos drag√µes, ela √© uma figura complexa de poder e ambi√ß√£o.",
                    author: "George R. R. Martin", type: "Protagonista/Rainha", age: "16-24", nationality: "Westerosi", gender: "Feminino", species: "Humana", friends: "Jorah Mormont, Tyrion Lannister", family: "Viserys (Irm√£o), Rhaegar (Irm√£o)",
                    song: "Game of Thrones Main Theme",
                    spotifyId: "0bL7Yy495yY7L4oGvC3S7w"
                },
                "Link": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/f/fd/Link_BotW.png/220px-Link_BotW.png",
                    category: "Games - The Legend of Zelda",
                    description: "Link √© o protagonista da s√©rie The Legend of Zelda da Nintendo. Ele √© o her√≥i escolhido que empunha a Master Sword e sempre se levanta para derrotar Ganon e salvar a Princesa Zelda.",
                    author: "Shigeru Miyamoto", type: "Her√≥i", age: "10-20", nationality: "Hyliana", gender: "Masculino", species: "Hylian", friends: "Princesa Zelda, Epona", family: "Desconhecida",
                    song: "Zelda's Lullaby",
                    spotifyId: "0g5r8Jv8n9vD71u5u3S3j9"
                },
                "Jon Snow": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/3/30/Jon_Snow_-_Game_of_Thrones.jpg/220px-Jon_Snow_-_Game_of_Thrones.jpg",
                    category: "S√©ries - Game of Thrones",
                    description: "Jon Snow √© um dos personagens principais de Game of Thrones. Inicialmente apresentado como o filho bastardo de Ned Stark, ele se torna um l√≠der no Norte e no Patrulha da Noite, enfrentando os Caminhantes Brancos.",
                    author: "George R. R. Martin", type: "Protagonista", age: "17-25", nationality: "Westerosi", gender: "Masculino", species: "Humana", friends: "Samwell Tarly, Tormund", family: "Ned Stark (Tio/Pai), Lyanna Stark (M√£e)",
                    song: "The King in the North",
                    spotifyId: "0o9wG7F6fC5k7yS5S8g4t8"
                },
                "Naruto Uzumaki": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/9/94/Naruto_Uzumaki.svg/220px-Naruto_Uzumaki.svg.png",
                    category: "Animes - Naruto",
                    description: "Naruto Uzumaki √© um jovem ninja √≥rf√£o da Vila da Folha que sonha em se tornar Hokage, o l√≠der de sua vila. Com seu esp√≠rito indom√°vel e determina√ß√£o, ele supera desafios e faz muitos amigos.",
                    author: "Masashi Kishimoto", type: "Protagonista/Jinchuriki", age: "12-32", nationality: "Japon√™s", species: "Humana (Ninja)", friends: "Sasuke Uchiha, Sakura Haruno", family: "Minato (Pai), Kushina (M√£e)",
                    song: "Blue Bird",
                    spotifyId: "2n7T4kI4y1E5oYFh1uL9b1"
                },
                "Alice (Wonderland)": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/b/b3/Alice_in_Wonderland_Alice.png/220px-Alice_in_Wonderland_Alice.png",
                    category: "Livros - Fantasia",
                    description: "Alice √© a protagonista de 'Alice no Pa√≠s das Maravilhas'. Uma jovem curiosa que cai em um buraco de coelho e se encontra em um mundo fant√°stico e il√≥gico, repleto de personagens exc√™ntricos.",
                    author: "Lewis Carroll", type: "Protagonista", age: "7-10", nationality: "Brit√¢nica", gender: "Feminino", species: "Humana", friends: "Chapeleiro Maluco, Gato de Cheshire", family: "Irm√£, Pais",
                    song: "All in the Golden Afternoon",
                    spotifyId: "1w31x3H8W4hN0m2W6o1QfM"
                },
                "Katniss Everdeen": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/3/3d/Katniss_Everdeen.png/220px-Katniss_Everdeen.png",
                    category: "Filmes - Jogos Vorazes",
                    description: "Katniss Everdeen √© a protagonista da s√©rie 'Jogos Vorazes'. Uma ca√ßadora habilidosa do Distrito 12 que se voluntaria para os Jogos, tornando-se um s√≠mbolo de rebeli√£o contra a Capital.",
                    author: "Suzanne Collins", type: "Protagonista/Rebelde", age: "16-17", nationality: "Panem", gender: "Feminino", species: "Humana", friends: "Gale Hawthorne, Peeta Mellark", family: "Prim (Irm√£), M√£e",
                    song: "The Hanging Tree",
                    spotifyId: "3U5kY7rO8rM02tS2uT38j3"
                },
                "Peter Parker": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/0/0f/Spider-Man_FFH__poster.jpg/220px-Spider-Man_FFH__poster.jpg",
                    category: "Filmes - Marvel",
                    description: "Peter Parker √© o Homem-Aranha, um super-her√≥i com habilidades de aranha ap√≥s ser picado por uma aranha radioativa. Ele luta contra o crime enquanto tenta equilibrar sua vida pessoal e suas responsabilidades heroicas.",
                    author: "Stan Lee, Steve Ditko", type: "Super-her√≥i", age: "15-25", nationality: "Americano", gender: "Masculino", species: "Humano Mutante", friends: "Ned Leeds, MJ", family: "Tia May, Tio Ben (Falecido)",
                    song: "Spider-Man Main Theme",
                    spotifyId: "0bL7Yy495yY7L4oGvC3S7w"
                },
                "V (Cyberpunk)": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/c/c5/Cyberpunk_2077_cover.jpg/220px-Cyberpunk_2077_cover.jpg",
                    category: "Games - Cyberpunk 2077",
                    description: "V √© o protagonista personaliz√°vel de Cyberpunk 2077. Um mercen√°rio em Night City, que busca fama e gl√≥ria no submundo cibern√©tico, enquanto lida com um chip misterioso em sua cabe√ßa.",
                    author: "CD Projekt Red", type: "Protagonista/Mercen√°rio", age: "20s", nationality: "Americano (Night City)", gender: "Customiz√°vel", species: "Humana (Aprimorada)", friends: "Jackie Welles, Judy Alvarez", family: "N/A",
                    song: "Chippin' In (Samurai)",
                    spotifyId: "3vR3s35yP4V2rL68P9wL2u"
                },
                "Ellen Ripley": {
                    avatar: "https://upload.wikimedia.org/wikipedia/en/thumb/f/fc/Ellen_Ripley.png/220px-Ellen_Ripley.png",
                    category: "Filmes - Alien",
                    description: "Ellen Ripley √© a tenente-primeiro oficial da nave espacial Nostromo e se torna uma hero√≠na improv√°vel ao enfrentar a criatura xenomorfa. Uma das maiores personagens de a√ß√£o da hist√≥ria do cinema.",
                    author: "Dan O'Bannon, Ronald Shushett", type: "Protagonista/Sobrevivente", age: "30s", nationality: "Americana", gender: "Feminino", species: "Humana", friends: "Newt, Bishop", family: "Amanda Ripley (Filha)",
                    song: "Alien Main Theme",
                    spotifyId: "4Tz5fG0D4Qj1o6c3m6MvL0"
                }
            };

            // --- Fun√ß√µes Auxiliares ---

            // Fun√ß√£o para renderizar os cards de informa√ß√£o detalhada
            const renderInfoCards = (character) => {
                infoCardsContainer.innerHTML = ''; 
                
                const infoMap = {
                    author: "Autor", type: "Tipo de Personagem", age: "Idade Estimada", 
                    nationality: "Nacionalidade", gender: "G√™nero", species: "Esp√©cie", 
                    friends: "Amigos Not√°veis", family: "Fam√≠lia/Parentes"
                };

                for (const key in infoMap) {
                    if (character[key]) {
                        const card = document.createElement('div');
                        card.className = 'info-card';
                        card.innerHTML = `<strong>${infoMap[key]}</strong><span>${character[key]}</span>`;
                        infoCardsContainer.appendChild(card);
                    }
                }
            };
            
            // Fun√ß√£o para renderizar os cards de a√ß√£o
            const renderActionCards = (characterName) => {
                actionCardsContainer.innerHTML = ''; 
                
                const actions = [
                    { iconClass: 'fab fa-youtube', title: 'YouTube', url: `https://www.youtube.com/results?search_query=${encodeURIComponent(characterName)}` },
                    { iconClass: 'fas fa-globe', title: 'Pesquisa Web', url: `https://www.google.com/search?q=${encodeURIComponent(characterName)}` },
                    { iconClass: 'fab fa-wikipedia-w', title: 'Wikipedia', url: `https://pt.wikipedia.org/wiki/${encodeURIComponent(characterName.replace(/\s/g, '_'))}` }
                ];
                
                actions.forEach(action => {
                    const card = document.createElement('div');
                    card.className = `action-card`;
                    card.innerHTML = `<span><i class="${action.iconClass}"></i></span>${action.title}`;
                    
                    card.addEventListener('click', () => {
                        window.open(action.url, '_blank');
                    });
                    
                    actionCardsContainer.appendChild(card);
                });
            };


            // Fun√ß√£o para carregar/remover o Spotify Player
            const toggleSpotifyPlayer = (songTitle, spotifyId) => {
                const isPlaying = musicButton.classList.contains('active');
                
                if (isPlaying) {
                    spotifyPlayerContainer.classList.remove('active');
                    musicButton.classList.remove('active');
                    spotifyPlayerContainer.innerHTML = `<p class="spotify-title" id="spotify-title-display">M√∫sica Tema:</p>`; 
                } else {
                    if (!spotifyId || spotifyId === "undefined") {
                        alert('Este perfil n√£o tem uma m√∫sica tema do Spotify definida!');
                        return;
                    }

                    // A URL do iframe usa um placeholder para o ID do Spotify
                    const iframeSrc = `https://open.spotify.com/embed/track/${spotifyId}?utm_source=generator&theme=0&view=compact`;
                    
                    spotifyPlayerContainer.innerHTML = `
                        <p class="spotify-title">üé∂ Tocando: ${songTitle}</p>
                        <iframe src="${iframeSrc}" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media; autoplay"></iframe>
                    `;
                    
                    spotifyPlayerContainer.classList.add('active');
                    musicButton.classList.add('active');
                }
            };
            
            // Fun√ß√£o de Filtragem e Busca
            const filterItems = () => {
                const searchTerm = searchInput.value.toLowerCase();
                contactItems.forEach(item => {
                    const itemName = item.querySelector('h3').textContent.toLowerCase();
                    const itemCategory = item.getAttribute('data-category').toLowerCase();
                    const isCategoryMatch = activeFilter === 'all' || itemCategory === activeFilter;
                    const isSearchMatch = itemName.includes(searchTerm);
                    item.style.display = (isCategoryMatch && isSearchMatch) ? 'flex' : 'none';
                });
            };

            // --- Fun√ß√µes de Eventos ---

            // Abertura do Modal/Painel de Perfil
            contactList.querySelectorAll('.contact-item').forEach(item => {
                item.addEventListener('click', () => {
                    const characterName = item.getAttribute('data-character-name');
                    const character = charactersData[characterName];

                    if (character) {
                        // Reseta o player de m√∫sica
                        spotifyPlayerContainer.classList.remove('active');
                        musicButton.classList.remove('active');
                        spotifyPlayerContainer.innerHTML = `<p class="spotify-title" id="spotify-title-display">M√∫sica Tema:</p>`;

                        // Preenche dados do perfil
                        modalProfileAvatar.src = character.avatar;
                        modalProfileName.textContent = characterName;
                        modalProfileCategory.textContent = character.category;
                        modalProfileDescription.textContent = character.description;
                        
                        // RENDERIZA OS CARDS
                        renderInfoCards(character);
                        renderActionCards(characterName); 
                        
                        // Configura o bot√£o de m√∫sica
                        musicButton.setAttribute('data-song-title', character.song);
                        musicButton.setAttribute('data-spotify-id', character.spotifyId);
                        
                        // Exibe o Painel adicionando a classe ao body
                        body.classList.add('profile-open');
                        
                        // Adiciona scroll-lock APENAS no mobile
                        if (window.innerWidth < 768) { 
                             document.body.style.overflow = 'hidden'; 
                        }
                    }
                });
            });

            // Fechamento do Modal/Painel de Perfil (Mobile Button)
            modalCloseButton.addEventListener('click', () => {
                body.classList.remove('profile-open');
                document.body.style.overflow = ''; 
                spotifyPlayerContainer.classList.remove('active');
                musicButton.classList.remove('active');
                spotifyPlayerContainer.innerHTML = `<p class="spotify-title" id="spotify-title-display">M√∫sica Tema:</p>`;
            });

            // Funcionalidade do Bot√£o de M√∫sica (Toggle)
            musicButton.addEventListener('click', () => {
                const songTitle = musicButton.getAttribute('data-song-title');
                const spotifyId = musicButton.getAttribute('data-spotify-id');
                toggleSpotifyPlayer(songTitle, spotifyId);
            });
            
            // Eventos de Filtro e Busca
            tabsContainer.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', (event) => {
                    tabsContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                    activeFilter = event.target.getAttribute('data-filter');
                    filterItems();
                });
            });

            searchInput.addEventListener('input', filterItems);

            // Toggle do Menu (Abre no mobile/desktop)
            menuButton.addEventListener('click', () => {
                body.classList.toggle('menu-open');
            });
            
            // Evento: Bot√£o de Fechar Sidebar (Desktop)
            closeSidebarButton.addEventListener('click', () => {
                body.classList.remove('menu-open');
            });


            // Inicializa a filtragem
            filterItems();
        });
    </script>
</body>
</html>
