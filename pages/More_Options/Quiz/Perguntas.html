<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Quiz_Perguntas</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* --- Paleta de Cores Vibrante e Acess√≠vel --- */
            --primary: #8A2BE2;    /* Geo */
            --success: #2ecc71;    /* Sci/Correct */
            --warning: #f1c40f;    /* Hist */
            --orange:  #e67e22;    /* Sport */
            --danger:  #e74c3c;    /* Art/Wrong/Lives */
            --pink:    #d63031;    /* Ent */
            
            --bg-gradient: radial-gradient(circle at center, #f3f4f6, #dde1e7);
            --surface: #ffffff;
            --text-main: #2c3e50;
            --text-muted: #7f8c8d;
            
            /* Sombras Suaves (Neumorphism Light) */
            --shadow-soft: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            --shadow-button: 0 4px 0 rgba(0,0,0,0.15);
            --shadow-button-active: 0 0 0 rgba(0,0,0,0.15);
        }

        /* Reset B√°sico */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            /* --- O SEGREDO DO FULLSCREEN MOBILE --- */
            width: 100vw;
            height: 100vh; /* Fallback */
            height: 100dvh; /* Altura Din√¢mica: ignora barras do navegador */
            overflow: hidden; /* Impede scroll da p√°gina inteira */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- Container Principal Adaptativo --- */
        .app-container {
            width: 100%;
            height: 100%;
            background-color: var(--surface);
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            
            /* √Åreas Seguras (iPhone Notch/Home Bar) */
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        /* Telas (Camadas) */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: var(--surface);
            z-index: 1;
            transition: opacity 0.4s ease;
            
            /* Garante que o conte√∫do interno respeite o padding do container pai */
            padding-top: inherit; 
            padding-bottom: inherit;
        }

        /* --- HEADER DA ROLETA (MOBILE) --- */
        .wheel-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            flex-shrink: 0;
            background: #fff;
            border-bottom: 1px solid #f0f0f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .header-btn {
            background: #f0f2f5;
            border: none;
            color: var(--text-main);
            padding: 10px;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 3px 0 #ccd0d3;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .header-btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #ccd0d3;
        }
        
        .header-title {
            font-weight: 900;
            font-size: clamp(1.8rem, 5vw, 3rem);
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: center;
        }
        
        /* Conte√∫do da Roleta (Mobile) */
        .wheel-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 0 20px;
        }

        /* --- TELA 1: ROLETA --- */
        #wheel-screen {
            background: radial-gradient(circle at 50% 10%, #fff 0%, #f0f2f5 100%);
            display: flex;
            flex-direction: column;
        }

        .wheel-wrapper {
            position: relative;
            width: min(320px, 85vw);
            height: min(320px, 85vw);
            filter: drop-shadow(0 15px 25px rgba(0,0,0,0.15));
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 6px solid #fff;
            background: conic-gradient(
                var(--success) 0deg 60deg,
                var(--warning) 60deg 120deg,
                var(--primary) 120deg 180deg,
                var(--pink) 180deg 240deg,
                var(--danger) 240deg 300deg,
                var(--orange) 300deg 360deg
            );
            transition: transform 3s cubic-bezier(0.2, 0, 0.1, 1);
        }

        .wheel-center {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 25%; height: 25%;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.2rem;
            color: #333;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px; height: 40px;
            background: #333;
            clip-path: polygon(50% 100%, 0 0, 100% 0);
            z-index: 10;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.3));
        }

        .btn-action {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 50px;
            box-shadow: 0 6px 0 #5e1c9e, 0 15px 20px rgba(138, 43, 226, 0.4);
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            margin-top: 20px;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            touch-action: manipulation;
        }

        .btn-action:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #5e1c9e, 0 5px 10px rgba(138, 43, 226, 0.4);
        }

        .btn-action:disabled {
            background-color: #bdc3c7;
            box-shadow: none;
            cursor: not-allowed;
            transform: translateY(4px);
        }
        
        /* NOVO: Esconde o painel de info desktop no mobile */
        .info-panel {
            display: none;
        }
        /* NOVO: Esconde o placar desktop no mobile */
        .lives-desktop {
            display: none;
        }


        /* --- TELA 2: PERGUNTA (Layout Flexbox Vertical) --- */
        #question-screen {
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            background-color: #f8f9fa;
        }

        /* Header da Categoria (Compacto e Elegante) */
        .quiz-header {
            width: 100%;
            flex: 0 0 auto; 
            background: var(--primary);
            color: white;
            padding: 20px 20px 30px 20px;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            z-index: 10;
        }

        .top-bar {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            opacity: 0.9;
            font-weight: 700;
        }

        .cat-display {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .cat-icon { font-size: 2.5rem; margin-bottom: 5px; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .cat-name { font-size: 1.4rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }

        .timer-container {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
        }
        .timer-bar {
            height: 100%;
            background: white;
            width: 100%;
            transform-origin: left;
        }

        /* √Årea de Conte√∫do Scroll√°vel (Importante para telas pequenas) */
        .quiz-body {
            flex: 1; 
            width: 100%;
            max-width: 600px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; 
            -webkit-overflow-scrolling: touch; 
        }

        .question-card {
            background: transparent;
            color: var(--text-main);
            font-size: 1.25rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.4;
            flex-grow: 1; 
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100px;
        }

        .answers-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            width: 100%;
            padding-bottom: 10px;
        }

        .answer-btn {
            background: white;
            border: 2px solid #edf2f7;
            padding: 16px 20px;
            border-radius: 16px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            color: var(--text-main);
            text-align: left;
            cursor: pointer;
            position: relative;
            box-shadow: 0 4px 0 #dfe4ea;
            transition: all 0.15s ease;
        }

        .answer-btn:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #dfe4ea;
        }

        /* Estados de Feedback */
        .answer-btn.correct {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
            box-shadow: 0 4px 0 #27ae60;
        }
        .answer-btn.wrong {
            background-color: var(--danger);
            border-color: var(--danger);
            color: white;
            box-shadow: 0 4px 0 #c0392b;
        }
        .answer-btn.reveal {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
            box-shadow: 0 4px 0 #27ae60;
            opacity: 0.8;
        }

        /* Bot√µes de Controle */
        .controls-area {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            display: none; 
            animation: slideUpFade 0.3s ease;
        }
        
        .btn-icon {
            padding: 15px;
            border-radius: 12px;
            border: none;
            background: #95a5a6;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #7f8c8d;
        }
        .btn-icon:active { transform: translateY(4px); box-shadow: none; }

        .btn-next {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            border: none;
            background: var(--text-main);
            color: white;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #000;
        }
        .btn-next:active { transform: translateY(4px); box-shadow: none; }

        /* --- MODAIS --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-card {
            background: white;
            width: 100%;
            max-width: 400px;
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-title { font-size: 1.5rem; font-weight: 900; margin-bottom: 10px; color: var(--text-main); }
        .modal-text { color: var(--text-muted); font-size: 1rem; line-height: 1.5; margin-bottom: 20px; }
        .modal-btn {
            background: var(--text-main); color: white; border: none;
            padding: 12px 25px; border-radius: 50px; font-weight: bold; font-size: 1rem; cursor: pointer;
        }

        /* --- Anima√ß√µes --- */
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes slideUpFade { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* --- DESKTOP (Media Query) --- */
        @media (min-width: 1024px) {
            body {
                background: #eef2f5; 
            }

            .app-container {
                max-width: 1200px;
                max-height: 90vh;
                border-radius: 30px;
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
                margin: auto;
                border: 1px solid rgba(255,255,255,0.5);
            }
            
            /* --- 1. MELHORIAS NA TELA DE ROLETA (UX) --- */
            #wheel-screen {
                flex-direction: row; /* Layout lado a lado */
                padding: 40px; 
                gap: 50px;
                align-items: stretch; /* Estica as colunas para a altura m√°xima */
            }

            .wheel-header {
                display: none; /* Oculta o header simples da roleta no desktop */
            }
            
            .wheel-content {
                flex-direction: row; 
                justify-content: center;
                align-items: center;
                padding: 0;
                flex: 1; /* Permite que o conte√∫do ocupe o espa√ßo dispon√≠vel */
            }

            .wheel-wrapper {
                width: 380px; 
                height: 380px;
                flex-shrink: 0; 
            }

            /* NOVO: Coluna de Informa√ß√µes / Placar */
            .info-panel {
                display: flex; /* Exibe o painel de info desktop */
                flex: 1; 
                max-width: 400px;
                padding: 30px;
                background: #fff;
                border-radius: 20px;
                box-shadow: var(--shadow-soft);
                flex-direction: column;
                align-items: center;
                height: 100%;
                justify-content: center;
                text-align: center;
            }

            .info-panel .header-title {
                margin-bottom: 20px;
                font-size: 3.5rem; 
            }

            .lives-desktop {
                display: block; /* Exibe o placar desktop */
                font-size: 2.5rem;
                margin-top: 20px;
                color: var(--danger);
            }
            
            .btn-action {
                margin-top: 30px;
                padding: 20px 60px;
            }

            /* --- 2. MELHORIAS NA TELA DE PERGUNTAS (UX) --- */
            /* Layout Lateral para Perguntas (J√° existente) */
            #question-screen {
                flex-direction: row;
            }

            .quiz-header {
                width: 350px; /* Barra lateral fixa */
                height: 100%;
                border-radius: 0;
                justify-content: center;
                padding: 40px;
            }

            .quiz-body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                max-width: 800px;
                margin: 0 auto;
                padding: 40px; /* Aumenta o padding lateral */
            }
            
            .question-card {
                font-size: 1.6rem; /* Aumenta a fonte da pergunta principal */
                margin-bottom: 40px;
                min-height: 150px;
            }

            .answers-list {
                grid-template-columns: 1fr 1fr; /* Duas colunas de resposta */
                gap: 20px;
            }

            .answer-btn {
                font-size: 1.1rem; /* Aumenta a fonte da resposta */
                padding: 20px;
            }

            .answer-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 0 #dfe4ea;
            }
        }
    </style>
</head>
<body>

<div class="app-container">
    
    <div id="wheel-screen" class="screen">
        <header class="wheel-header">
            <button class="header-btn" onclick="resetGame()" aria-label="Voltar para a tela inicial">
                üè†
            </button>
            <div class="header-title" style="flex-grow: 1;">Quiz Perguntas</div>
            <div style="width: 44px;"></div> 
        </header>

        <div class="wheel-content">
            
            <div class="info-panel">
                <div class="header-title">Quiz Master</div>
                <p style="font-size: 1.1rem; color: var(--text-muted);">
                    Gire a roleta para selecionar uma categoria e testar seu conhecimento!
                </p>
                <div id="lives-counter-desktop" class="lives-desktop">
                    ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
                </div>
                <button id="spinBtn" class="btn-action" onclick="spinWheel()">Girar Roleta</button>
            </div>
            
            <div class="wheel-wrapper">
                <div class="pointer"></div>
                <div class="wheel" id="wheel"></div>
                <div class="wheel-center">GIRAR</div>
            </div>
            
        </div>
    </div>

    <div id="question-screen" class="screen">
        <header class="quiz-header" id="header-color-bg">
            <div class="top-bar">
                <span id="lives-counter">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
                <span id="q-counter">1/7</span>
            </div>
            
            <div class="cat-display">
                <div class="cat-icon" id="cat-icon">üß™</div>
                <div class="cat-name" id="cat-name">Ci√™ncia</div>
            </div>

            <div class="timer-container">
                <div class="timer-bar" id="timer-bar"></div>
            </div>
        </header>

        <main class="quiz-body">
            <div class="question-card" id="question-text">
                Carregando pergunta...
            </div>

            <div class="answers-list" id="answers-list">
                </div>

            <div class="controls-area" id="controls-area">
                <button class="btn-icon" onclick="showInfo()">üí°</button>
                <button class="btn-next" onclick="nextStep()" id="next-btn-text">Continuar</button>
            </div>
        </main>
    </div>

    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-card">
            <div class="modal-title">Voc√™ sabia?</div>
            <p class="modal-text" id="explanation-text">...</p>
            <a href="#" target="_blank" id="wiki-link" style="color: var(--primary); font-weight: bold; text-decoration: none; display: block; margin-bottom: 20px;">Ler mais</a>
            <button class="modal-btn" onclick="document.getElementById('infoModal').style.display='none'">Entendi</button>
        </div>
    </div>
    
    <div id="gameOverModal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-title" style="color: var(--danger)">Fim de Jogo!</div>
            <p class="modal-text">Suas vidas acabaram. Tente novamente!</p>
            <button class="modal-btn" style="background: var(--primary)" onclick="resetGame()">Reiniciar</button>
        </div>
    </div>

</div>

<script>
    /* --- L√ìGICA DO JOGO OTIMIZADA --- */
    
    // Dados
    const categories = [
        { id: 'sci', name: 'Ci√™ncia', color: '#2ecc71', icon: 'üß™', min: 0, max: 60 },
        { id: 'hist', name: 'Hist√≥ria', color: '#f1c40f', icon: 'üèõÔ∏è', min: 60, max: 120 },
        { id: 'geo', name: 'Geografia', color: '#8A2BE2', icon: 'üåé', min: 120, max: 180 },
        { id: 'ent', name: 'Entretenimento', color: '#d63031', icon: 'üé¨', min: 180, max: 240 },
        { id: 'art', name: 'Arte', color: '#e74c3c', icon: 'üé®', min: 240, max: 300 },
        { id: 'sport', name: 'Esporte', color: '#e67e22', icon: '‚öΩ', min: 300, max: 360 }
    ];

    const questionsDB = {
        sci: [{ q: "S√≠mbolo do Ouro?", a: ["Au", "Ag", "Fe", "Go"], c: 0, info: "Au vem do latim Aurum.", link: "https://pt.wikipedia.org/wiki/Ouro" }, { q: "Planeta Vermelho?", a: ["Marte", "V√™nus", "J√∫piter", "Saturno"], c: 0, info: "√ìxido de ferro d√° a cor vermelha.", link: "" }],
        hist: [{ q: "Descobriu o Brasil?", a: ["Colombo", "Cabral", "Vespucci", "Caminha"], c: 1, info: "Em 1500, a frota de Cabral chegou.", link: "" }],
        geo: [{ q: "Capital da Fran√ßa?", a: ["Lyon", "Paris", "Marselha", "Nice"], c: 1, info: "Paris √© conhecida como Cidade Luz.", link: "" }],
        ent: [{ q: "Criador de Mickey?", a: ["Disney", "Pixar", "Warner", "Hanna"], c: 0, info: "Walt Disney criou Mickey em 1928.", link: "" }],
        art: [{ q: "Pintou a Mona Lisa?", a: ["Van Gogh", "Da Vinci", "Picasso", "Dali"], c: 1, info: "Da Vinci levou anos pintando-a.", link: "" }],
        sport: [{ q: "Rei do Futebol?", a: ["Maradona", "Pel√©", "Messi", "CR7"], c: 1, info: "Pel√© venceu 3 Copas do Mundo.", link: "" }]
    };

    // Estado
    let state = {
        lives: 3,
        currentCat: null,
        rotation: 0,
        qIndex: 0,
        qList: [],
        canAnswer: false
    };

    // Elementos DOM
    const els = {
        wheelScreen: document.getElementById('wheel-screen'),
        qScreen: document.getElementById('question-screen'),
        wheel: document.getElementById('wheel'),
        spinBtn: document.getElementById('spinBtn'),
        timerBar: document.getElementById('timer-bar'),
        answersList: document.getElementById('answers-list'),
        controls: document.getElementById('controls-area')
    };

    // --- Fun√ß√µes Principais ---

    function spinWheel() {
        if(state.lives <= 0) return;
        
        els.spinBtn.disabled = true;
        const randomDeg = Math.floor(Math.random() * 360);
        const spins = 360 * 6; // 6 voltas completas
        state.rotation += spins + randomDeg;
        
        els.wheel.style.transform = `rotate(-${state.rotation}deg)`;

        setTimeout(() => {
            const finalAngle = state.rotation % 360;
            // Normaliza para 0-360 (ponteiro est√° no topo, l√≥gica invertida visualmente)
            const normalized = (360 - finalAngle) % 360;
            
            const cat = categories.find(c => normalized >= c.min && normalized < c.max) || categories[0];
            startRound(cat);
        }, 3000);
    }

    function startRound(category) {
        state.currentCat = category;
        state.qList = [...(questionsDB[category.id] || questionsDB['sci'])]; // Fallback simples
        // Embaralhar simples
        state.qList.sort(() => Math.random() - 0.5);
        state.qIndex = 0;
        
        // Setup Visual
        document.getElementById('header-color-bg').style.backgroundColor = category.color;
        document.getElementById('cat-icon').innerText = category.icon;
        document.getElementById('cat-name').innerText = category.name;
        
        // Transi√ß√£o da Tela
        els.wheelScreen.style.opacity = 0;
        setTimeout(() => {
            els.wheelScreen.style.display = 'none';
            els.qScreen.style.display = 'flex';
            // Pequeno delay para anima√ß√£o fluida
            setTimeout(() => els.qScreen.style.opacity = 1, 50);
            loadQuestion();
        }, 400);
    }

    function loadQuestion() {
        if (state.qIndex >= state.qList.length) {
            resetGame(); // Fim das perguntas da categoria (simplificado)
            return;
        }

        const q = state.qList[state.qIndex];
        state.canAnswer = true;
        
        // Reset UI
        els.controls.style.display = 'none';
        els.answersList.innerHTML = '';
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('q-counter').innerText = `${state.qIndex + 1}/${state.qList.length}`;
        updateLives();

        // Timer Reset
        els.timerBar.style.transition = 'none';
        els.timerBar.style.transform = 'scaleX(1)';
        setTimeout(() => {
            els.timerBar.style.transition = 'transform 10s linear';
            els.timerBar.style.transform = 'scaleX(0)';
        }, 100);

        // Render Respostas
        q.a.forEach((txt, i) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerText = txt;
            btn.onclick = () => checkAnswer(btn, i, q.c);
            els.answersList.appendChild(btn);
        });
    }

    function checkAnswer(btnClicked, idxClicked, idxCorrect) {
        if(!state.canAnswer) return;
        state.canAnswer = false;
        
        // Para timer
        els.timerBar.style.transition = 'none';
        const currentWidth = getComputedStyle(els.timerBar).transform;
        els.timerBar.style.transform = currentWidth;

        const buttons = document.querySelectorAll('.answer-btn');
        let correct = false;

        if (idxClicked === idxCorrect) {
            btnClicked.classList.add('correct');
            correct = true;
        } else {
            btnClicked.classList.add('wrong');
            buttons[idxCorrect].classList.add('reveal'); // Mostra a certa
            state.lives--;
            updateLives();
        }

        // Mostra controles
        els.controls.style.display = 'flex';
        document.getElementById('next-btn-text').innerText = 
            (state.lives <= 0) ? "Ver Resultado" : "Continuar";
        
        // Scroll autom√°tico para ver os bot√µes se necess√°rio (mobile)
        setTimeout(() => {
            els.controls.scrollIntoView({behavior: "smooth", block: "nearest"});
        }, 100);
    }

    function nextStep() {
        if (state.lives <= 0) {
            document.getElementById('gameOverModal').style.display = 'flex';
        } else {
            state.qIndex++;
            if (state.qIndex >= 3) { // Exemplo: volta a girar ap√≥s 3 perguntas
                els.qScreen.style.display = 'none';
                els.qScreen.style.opacity = 0; 
                els.wheelScreen.style.display = 'flex';
                els.wheelScreen.style.opacity = 1;
                els.spinBtn.disabled = false;
            } else {
                loadQuestion();
            }
        }
    }

    function updateLives() {
        let hearts = "";
        for(let i=0; i<3; i++) hearts += i < state.lives ? "‚ù§Ô∏è" : "üñ§";
        
        // Placar Mobile (j√° existente)
        document.getElementById('lives-counter').innerText = hearts;
        
        // Placar Desktop (para a tela de roleta)
        const desktopLives = document.getElementById('lives-counter-desktop');
        if (desktopLives) {
             desktopLives.innerText = hearts;
        }
    }

    function showInfo() {
        const q = state.qList[state.qIndex];
        document.getElementById('explanation-text').innerText = q.info;
        const link = document.getElementById('wiki-link');
        if(q.link) {
            link.href = q.link;
            link.style.display = 'block';
        } else {
            link.style.display = 'none';
        }
        document.getElementById('infoModal').style.display = 'flex';
    }

    function closeModal(e) {
        if(e.target.id === 'infoModal') e.target.style.display = 'none';
    }

    function resetGame() {
        state.lives = 3;
        state.rotation = 0;
        document.getElementById('gameOverModal').style.display = 'none';
        
        // Garante que a tela de Roleta √© exibida
        els.qScreen.style.display = 'none';
        els.qScreen.style.opacity = 0; 
        els.wheelScreen.style.display = 'flex';
        els.wheelScreen.style.opacity = 1;
        els.spinBtn.disabled = false;
        els.wheel.style.transform = `rotate(0deg)`;
        
        updateLives(); // Atualiza os cora√ß√µes
    }

    // Inicializa√ß√£o do Jogo
    updateLives();

</script>
</body>
</html>
