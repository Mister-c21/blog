<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* -------------------------------------- */
        /* VARIÁVEIS CSS E ESTILOS GLOBAIS */
        /* -------------------------------------- */
        :root {
            --blueviolet-color: 138, 43, 226; 
            --glass-background: rgba(var(--blueviolet-color), 0.1); 
            --glass-border: rgba(255, 255, 255, 0.3); 
            --glass-blur: 15px;
            --shadow-color: rgba(0, 0, 0, 0.1); 
            --icon-size: 18px;
            --bar-height: 50px;
            --icon-padding: 20px;
            --transition-speed: 0.3s;
            --sidebar-width: 280px;
            /* NOVA VARIÁVEL para cor de destaque da aba */
            --tab-active-color: #f7b733; 
        }

        body {
            /* Fundo Glassmorphism */
            background: linear-gradient(135deg, #4b0082, #9400d3, #da70d6);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Arial', sans-serif;
            color: #fff;
            width: 100vw; 
            position: relative;
        }
        
        a {
            text-decoration: none;
            color: white;
        }

        /* -------------------------------------- */
        /* MENU HAMBÚRGUER (TOP-LEFT) */
        /* -------------------------------------- */
        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 999; 
            
            background: transparent;
            border: none;
            color: #fff;
            font-size: 24px;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-speed) ease;
        }
        
        .menu-toggle:hover {
            color: rgba(255, 255, 255, 0.8);
            transform: scale(1.05);
        }

        /* -------------------------------------- */
        /* SIDEBAR (BARRA LATERAL - ESQUERDA) */
        /* -------------------------------------- */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--sidebar-width);
            height: 100%;
            z-index: 1000;
            
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(25px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.2);
            
            /* Inicia fora da tela à esquerda */
            transform: translateX(calc(-1 * var(--sidebar-width)));
            transition: transform var(--transition-speed) ease-in-out;
            
            padding: 20px;
            box-sizing: border-box;
        }
        
        .sidebar.is-open {
            transform: translateX(0); /* Entra na tela */
        }
        
        .close-sidebar-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 30px;
            background: transparent;
            border: none;
            color: #fff;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .close-sidebar-btn:hover {
            transform: rotate(90deg);
            color: rgba(255, 255, 255, 0.8);
        }

        /* ESTILOS DA NOVA LISTA DE NAVEGAÇÃO DA SIDEBAR */
        .sidebar ul.sidebar-nav-list {
            list-style: none;
            padding: 0;
            margin-top: 60px; 
        }
        
        /* Estilo base para cada item de link */
        .sidebar ul.sidebar-nav-list li a {
            display: flex; /* Para alinhar o ícone e o texto */
            align-items: center;
            padding: 12px 10px; /* Aumenta o padding para melhor toque */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 5px; /* Bordas levemente arredondadas */
            text-decoration: none;
            color: #fff;
        }

        /* Estilo do ícone dentro do link */
        .sidebar ul.sidebar-nav-list li a i {
            margin-right: 15px;
            font-size: var(--icon-size);
            min-width: 25px; /* Garante alinhamento dos ícones */
            text-align: center;
            color: rgba(255, 255, 255, 0.8); /* Cor mais suave para o ícone */
        }

        /* Efeito hover para o link */
        .sidebar ul.sidebar-nav-list li a:hover {
            color: #fff;
            background-color: rgba(var(--blueviolet-color), 0.2); /* Fundo sutil ao passar o mouse */
        }

        /* Estilo para o separador visual */
        .sidebar-separator {
            height: 1px;
            background-color: rgba(255, 255, 255, 0.3);
            margin: 20px 0;
            list-style: none; /* remove bullet point if any */
        }

        /* -------------------------------------- */
        /* BARRA DE BUSCA (BORDAS ARREDONDADAS) */
        /* -------------------------------------- */
        .search-wrapper {
            position: relative;
            width: 90%;
            max-width: 580px; 
            height: var(--bar-height);
            
            border-radius: 30px; 
            
            box-shadow: 0 4px 8px var(--shadow-color), 0 2px 4px var(--shadow-color);
            background: var(--glass-background);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border); 
            transition: box-shadow var(--transition-speed) ease;
        }
        
        .search-input {
            width: 100%; height: 100%; 
            padding-left: 60px; 
            /* AJUSTE PARA ACOMODAR O BOTÃO DE LIMPAR E O DE OPÇÕES */
            padding-right: calc(var(--icon-padding) * 2 + 30px); 
            
            border: none; outline: none; background: transparent; box-sizing: border-box; 
            font-size: 16px; color: #fff; 
        }

        .search-input::placeholder { color: rgba(255, 255, 255, 0.6); }

        /* Estilo base para todos os botões de ícone (lupa, apagar e opções) */
        .icon-btn {
            position: absolute; 
            top: 50%; 
            transform: translateY(-50%);
            
            font-size: var(--icon-size); 
            color: rgb(var(--blueviolet-color)); 
            
            cursor: pointer; 
            background: transparent; 
            border: none; 
            outline: none; 
            padding: 0; 
            transition: color 0.2s ease, transform 0.2s ease; 
            z-index: 2;
        }
        
        .icon-btn:hover { 
            color: #fff; 
            transform: translateY(-50%) scale(1.1); 
        }

        .search-btn { 
            left: var(--icon-padding); 
        }

        /* -------------------------------------- */
        /* BOTÃO DE APAGAR (NOVO) */
        /* -------------------------------------- */
        .clear-search-btn {
            right: calc(var(--icon-padding) + 30px); /* Posicionado antes do options-btn */
            color: rgba(255, 255, 255, 0.7);
            font-size: 16px;
            visibility: hidden; /* Começa escondido */
            opacity: 0;
            transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease;
        }

        .clear-search-btn.is-visible {
            visibility: visible;
            opacity: 1;
        }
        
        .clear-search-btn:hover {
            color: #fff;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* -------------------------------------- */
        /* BOTÃO DE OPÇÕES (DESTACADO) */
        /* -------------------------------------- */
        .options-btn { 
            right: 10px;
            
            background: rgba(var(--blueviolet-color), 0.5); 
            backdrop-filter: blur(5px);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            z-index: 3;
        }

        .options-btn i {
            color: #fff; 
            transition: transform 0.2s ease;
        }

        .options-btn:hover {
            background: rgba(var(--blueviolet-color), 0.7);
            transform: translateY(-50%) scale(1.05);
        }
        
        /* -------------------------------------- */
        /* ESTILOS DO MODAL DE SELEÇÃO (FULL-SCREEN) */
        /* -------------------------------------- */
        
        .modal-overlay {
            display: none; 
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            /* Garante que ocupe exatamente 100% da tela */
            width: 100vw; 
            height: 100vh;
            
            background-color: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-speed) ease;
        }
        
        .modal-content {
            /* Ocupa toda a área do overlay para o efeito "full-screen" de preenchimento */
            width: 100%; 
            height: 100%; 
            max-width: none; /* Remove a limitação de largura */
            max-height: none; /* Remove a limitação de altura */
            
            /* Box-model ajustado para acomodar o padding e manter a rolagem interna */
            box-sizing: border-box;
            
            /* Rolagem interna: importante para que o conteúdo não vaze */
            overflow-y: auto; 
            
            background-color: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            
            /* Remove bordas e sombra para um look full-screen mais limpo */
            border: none;
            border-radius: 0;
            box-shadow: none;
            
            padding: 30px; /* Padding interno para o conteúdo */
            text-align: center;
            
            transform: scale(1); /* Inicia com escala normal para fullscreen */
            transition: transform var(--transition-speed) ease;
        }
        
        .modal-content::-webkit-scrollbar { width: 8px; }
        .modal-content::-webkit-scrollbar-thumb { background-color: rgba(255, 255, 255, 0.3); border-radius: 4px; }

        .modal-title {
            color: #fff; margin-top: 0; margin-bottom: 20px; font-size: 24px;
            font-weight: bold; border-bottom: 1px solid rgba(255, 255, 255, 0.4); padding-bottom: 10px;
        }

        .search-engines-list { list-style: none; padding: 0; margin: 0; }

        /* Botões de opção com bordas arredondadas */
        .engine-item button {
            width: 100%; padding: 15px; margin: 10px 0; border: none; 
            
            border-radius: 10px; 
            
            background-color: rgba(255, 255, 255, 0.1); 
            color: #fff; font-size: 17px;
            cursor: pointer; transition: background-color 0.2s ease, transform 0.1s ease;
            text-align: left; display: flex; align-items: center; font-weight: bold;
        }
        
        .engine-item i { margin-right: 15px; min-width: 25px; text-align: center; }

        .engine-item button:hover { background-color: rgba(255, 255, 255, 0.2); transform: scale(1.02); }
        
        .close-button {
            color: #fff; position: fixed; /* Mudei para fixed para garantir que fique sempre no canto */
            top: 25px; right: 40px; font-size: 32px; /* Aumentei o espaçamento para o canto */
            font-weight: bold; cursor: pointer; transition: color 0.2s;
            z-index: 1001; /* Z-index maior que o modal-content */
        }
        
        .close-button:hover { color: #ccc; }

        .modal-overlay.is-visible { display: flex; opacity: 1; }
        /* Removi a animação de escala no modal-content, já que ele é full-screen */
        .modal-overlay.is-visible .modal-content { transform: scale(1); }
        
        /* Ocultar separadores/títulos de categoria originais, pois as abas já fazem o agrupamento */
        .category-separator, .category-title {
            display: none;
        }

        /* -------------------------------------- */
        /* ESTILOS DA TOP TAB BAR (FILTRO HORIZONTAL) */
        /* -------------------------------------- */
        .tab-bar-container {
            width: 100%;
            overflow-x: auto; /* Permite rolagem horizontal */
            overflow-y: hidden;
            white-space: nowrap; /* Impede que os itens quebrem linha */
            padding-bottom: 10px;
            margin-bottom: 15px;
            /* Estilo Glass para o container, se desejar: */
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
            /* Garante que o container de abas não ultrapasse o padding lateral do modal-content */
            box-sizing: border-box; 
        }

        /* Esconde a barra de rolagem horizontal (opcional) */
        .tab-bar-container::-webkit-scrollbar {
            height: 4px;
        }

        .tab-bar-container::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
        }

        .tab-bar {
            display: inline-flex; /* Mantém os itens na mesma linha */
            list-style: none;
            padding: 0 5px; /* Padding nas laterais do container */
            margin: 0;
        }

        .tab-item {
            display: inline-block;
            cursor: pointer;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            color: #fff;
            background-color: rgba(255, 255, 255, 0.1);
            transition: background-color 0.2s, color 0.2s;
            flex-shrink: 0; /* Impede que os itens diminuam */
        }

        .tab-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Estilo da aba ativa/selecionada */
        .tab-item.active {
            background-color: rgba(var(--blueviolet-color), 0.7); /* Cor de destaque */
            box-shadow: 0 0 10px rgba(var(--blueviolet-color), 0.5);
            color: var(--tab-active-color); 
        }

        /* Estilo para os grupos de motores de busca */
        .search-engine-group {
            display: none; /* Inicia todos escondidos */
            max-width: 600px; /* Limita a largura dos botões no modo fullscreen */
            margin: 0 auto; /* Centraliza a lista de botões */
        }

        .search-engine-group.active {
            display: block; /* Mostra apenas o ativo */
        }
    </style>
</head>
<body>

    <button id="menu-toggle" class="menu-toggle" aria-label="Abrir Menu Lateral">
        <i class="fas fa-bars"></i>
    </button>

    <div id="sidebar" class="sidebar">
        <button id="close-sidebar-btn" class="close-sidebar-btn" aria-label="Fechar Menu Lateral">
            ×
        </button>
    
        <ul class="sidebar-nav-list">
             <li><a href="../../Home.html"><i class="fas fa-home"></i> Página Inicial</a></li>
             
             <li><a href="../Abaut.html"><i class="fas fa-info-circle"></i> Sobre o Projeto</a></li>
             
             </ul>
    </div>
    
    <div class="search-wrapper">
        <button id="search-action-btn" class="icon-btn search-btn" aria-label="Pesquisar">
            <i class="fas fa-search"></i>
        </button>
        
        <input type="text" id="search-input" class="search-input" placeholder="Pesquisar no Google (Padrão)..." aria-label="Barra de Pesquisa">
        
        <button class="icon-btn clear-search-btn" id="clear-search-btn" aria-label="Limpar Pesquisa">
            <i class="fas fa-times-circle"></i>
        </button>
        
        <button class="icon-btn options-btn" id="options-button" aria-label="Opções de Motor de Busca">
            <i class="fas fa-ellipsis-v"></i>
        </button>
    </div>

    <div id="options-modal" class="modal-overlay">
        <span class="close-button" onclick="closeModal()">×</span>
        
        <div class="modal-content">
            
            <h2 class="modal-title">Selecione o Motor de Busca</h2>
            
            <div class="tab-bar-container">
                <ul class="tab-bar" id="tab-bar-list">
                    <li class="tab-item active" data-category="geral"><i class="fas fa-search"></i> Geral</li>
                    <li class="tab-item" data-category="compras"><i class="fas fa-shopping-cart"></i> Compras</li>
                    <li class="tab-item" data-category="midia"><i class="fas fa-film"></i> Mídia</li>
                    <li class="tab-item" data-category="noticias"><i class="fas fa-newspaper"></i> Notícias</li>
                    <li class="tab-item" data-category="viagem"><i class="fas fa-plane"></i> Viagem/Mapas</li>
                    <li class="tab-item" data-category="dev"><i class="fas fa-code"></i> Dev/Códigos</li>
                    <li class="tab-item" data-category="academico"><i class="fas fa-graduation-cap"></i> Acadêmico</li>
                    <li class="tab-item" data-category="alternativo"><i class="fas fa-shield-alt"></i> Alternativos</li>
                </ul>
            </div>
            <div id="engine-groups-container">

                <ul class="search-engines-list search-engine-group active" data-group="geral">
                    <li class="engine-item">
                        <button data-engine-name="Google" data-url-prefix="https://www.google.com/search?q=" data-category="geral">
                            <i class="fab fa-google" style="color: #4285F4;"></i> Google (Padrão)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Bing" data-url-prefix="https://www.bing.com/search?q=" data-category="geral">
                            <i class="fab fa-microsoft" style="color: #0078D4;"></i> Bing
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Perplexity" data-url-prefix="https://www.perplexity.ai/search?q=" data-category="geral">
                            <i class="fas fa-brain" style="color: #FF69B4;"></i> Perplexity (IA)
                        </button>
                    </li>
                </ul>
                
                <ul class="search-engines-list search-engine-group" data-group="compras">
                    <li class="engine-item">
                        <button data-engine-name="Amazon" data-url-prefix="https://www.amazon.com/s?k=" data-category="compras">
                            <i class="fab fa-amazon" style="color: #FF9900;"></i> Amazon (Produtos)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="eBay" data-url-prefix="https://www.ebay.com/sch/i.html?_nkw=" data-category="compras">
                            <i class="fas fa-box-open" style="color: #3C6698;"></i> eBay (Leilões/Vendas)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Mercado Livre" data-url-prefix="https://lista.mercadolivre.com.br/q=" data-category="compras">
                            <i class="fas fa-tag" style="color: #00A650;"></i> Mercado Livre (BR)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Google Shopping" data-url-prefix="https://www.google.com/search?tbm=shop&q=" data-category="compras">
                            <i class="fas fa-gifts" style="color: #34A853;"></i> Google Shopping
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Pinterest" data-url-prefix="https://www.pinterest.com/search/pins/?q=" data-category="compras">
                            <i class="fab fa-pinterest" style="color: #E60023;"></i> Pinterest (Imagens/Produtos)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Google Play Store" data-url-prefix="https://play.google.com/store/search?q=" data-category="compras">
                            <i class="fab fa-google-play" style="color: #00D479;"></i> Google Play Store (Android)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Apple App Store" data-url-prefix="https://www.apple.com/us/search/" data-category="compras">
                            <i class="fab fa-apple" style="color: #CCCCCC;"></i> Apple App Store (iOS)
                        </button>
                    </li>
                </ul>

                
                <ul class="search-engines-list search-engine-group" data-group="midia">
                    <li class="engine-item">
                        <button data-engine-name="Crunchyroll" data-url-prefix="https://www.crunchyroll.com/search?q=" data-category="midia">
                            <i class="fas fa-grin-squint-tears" style="color: #FFC000;"></i> **Crunchyroll (Animes)**
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="YouTube" data-url-prefix="https://www.youtube.com/results?search_query=" data-category="midia">
                            <i class="fab fa-youtube" style="color: #FF0000;"></i> YouTube (Vídeos)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="IMDb" data-url-prefix="https://www.imdb.com/find/?q=" data-category="midia">
                            <i class="fas fa-star" style="color: #F5C518;"></i> IMDb (Cinema/TV)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Spotify Search" data-url-prefix="https://open.spotify.com/search/" data-category="midia">
                            <i class="fab fa-spotify" style="color: #1DB954;"></i> Spotify (Música)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Twitch Search" data-url-prefix="https://www.twitch.tv/search?term=" data-category="midia">
                            <i class="fab fa-twitch" style="color: #9146FF;"></i> Twitch (Lives)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Steam Store" data-url-prefix="https://store.steampowered.com/search/?term=" data-category="midia">
                            <i class="fab fa-steam" style="color: #171A21;"></i> Steam (Jogos)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Metacritic" data-url-prefix="https://www.metacritic.com/search/game/" data-category="midia">
                            <i class="fas fa-trophy" style="color: #4169E1;"></i> Metacritic (Reviews)
                        </button>
                    </li>
                </ul>
                
                <ul class="search-engines-list search-engine-group" data-group="noticias">
                    <li class="engine-item">
                        <button data-engine-name="Google News" data-url-prefix="https://news.google.com/search?q=" data-category="noticias">
                            <i class="fas fa-newspaper" style="color: #FBBC05;"></i> Google News
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Reddit" data-url-prefix="https://www.reddit.com/search/?q=" data-category="noticias">
                            <i class="fab fa-reddit" style="color: #FF4500;"></i> Reddit (Comunidades)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Quora" data-url-prefix="https://www.quora.com/search?q=" data-category="noticias">
                            <i class="fab fa-quora" style="color: #B92B27;"></i> Quora (Perguntas/Respostas)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Google Books" data-url-prefix="https://www.google.com/search?tbm=bks&q=" data-category="noticias">
                            <i class="fas fa-book-open" style="color: #8B4513;"></i> Google Books
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Goodreads" data-url-prefix="https://www.goodreads.com/search?q=" data-category="noticias">
                            <i class="fas fa-bookmark" style="color: #F47A38;"></i> Goodreads (Avaliações)
                        </button>
                    </li>
                </ul>

                <ul class="search-engines-list search-engine-group" data-group="viagem">
                    <li class="engine-item">
                        <button data-engine-name="Google Maps" data-url-prefix="https://www.google.com/maps/search/" data-category="viagem">
                            <i class="fas fa-map-marker-alt" style="color: #3C79E8;"></i> Google Maps (Localização)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Booking.com" data-url-prefix="https://www.booking.com/searchresults.pt-br.html?ss=" data-category="viagem">
                            <i class="fas fa-hotel" style="color: #003580;"></i> Booking.com (Hospedagem)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Kayak" data-url-prefix="https://www.kayak.com.br/flights/" data-category="viagem">
                            <i class="fas fa-plane-departure" style="color: #FF7720;"></i> Kayak (Passagens)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Waze Live Map" data-url-prefix="https://www.waze.com/live-map/search?q=" data-category="viagem">
                            <i class="fas fa-car" style="color: #4C97FF;"></i> Waze Live Map (Trânsito)
                        </button>
                    </li>
                </ul>

                <ul class="search-engines-list search-engine-group" data-group="dev">
                    <li class="engine-item">
                        <button data-engine-name="Stack Overflow" data-url-prefix="https://stackoverflow.com/search?q=" data-category="dev">
                            <i class="fab fa-stack-overflow" style="color: #F48024;"></i> Stack Overflow (Dúvidas Dev)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="GitHub" data-url-prefix="https://github.com/search?q=" data-category="dev">
                            <i class="fab fa-github" style="color: #181717;"></i> GitHub (Repositórios)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="MDN Web Docs" data-url-prefix="https://developer.mozilla.org/pt-BR/search?q=" data-category="dev">
                            <i class="fas fa-laptop-code" style="color: #000000; background-color: white; border-radius: 5px;"></i> MDN Web Docs (Desenvolvimento Web)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Google Developers" data-url-prefix="https://developers.google.com/search?q=" data-category="dev">
                            <i class="fab fa-google" style="color: #4285F4;"></i> Google Developers
                        </button>
                    </li>
                </ul>
                
                <ul class="search-engines-list search-engine-group" data-group="academico">
                    <li class="engine-item">
                        <button data-engine-name="Google Scholar" data-url-prefix="https://scholar.google.com/scholar?q=" data-category="academico">
                            <i class="fas fa-book" style="color: #3C4043;"></i> Google Scholar (Artigos Científicos)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Scielo" data-url-prefix="https://search.scielo.org/?q=" data-category="academico">
                            <i class="fas fa-flask" style="color: #1E90FF;"></i> Scielo (Publicações Latam)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Wikipedia" data-url-prefix="https://pt.wikipedia.org/w/index.php?search=" data-category="academico">
                            <i class="fab fa-wikipedia-w" style="color: #CCCCCC;"></i> Wikipedia
                        </button>
                    </li>
                </ul>

                <ul class="search-engines-list search-engine-group" data-group="alternativo">
                    <li class="engine-item">
                        <button data-engine-name="DuckDuckGo" data-url-prefix="https://duckduckgo.com/?q=" data-category="alternativo">
                            <i class="fas fa-shield-alt" style="color: #E37435;"></i> DuckDuckGo (Privacidade)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Ecosia" data-url-prefix="https://www.ecosia.org/search?q=" data-category="alternativo">
                            <i class="fas fa-tree" style="color: #008744;"></i> Ecosia (Árvores)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Yandex" data-url-prefix="https://yandex.com/search/?text=" data-category="alternativo">
                            <i class="fab fa-yandex" style="color: #FF0000;"></i> Yandex (Russo)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Baidu" data-url-prefix="https://www.baidu.com/s?wd=" data-category="alternativo">
                            <i class="fas fa-language" style="color: #2F4F4F;"></i> Baidu (百度)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Naver" data-url-prefix="https://search.naver.com/search.naver?query=" data-category="alternativo">
                            <i class="fas fa-globe" style="color: #03C75A;"></i> Naver (네이버)
                        </button>
                    </li>
                    <li class="engine-item">
                        <button data-engine-name="Yahoo" data-url-prefix="https://search.yahoo.com/search?p=" data-category="alternativo">
                            <i class="fab fa-yahoo" style="color: #7B3E90;"></i> Yahoo!
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        // --- Variáveis de Elementos ---
        const optionsButton = document.getElementById('options-button');
        const searchActionButton = document.getElementById('search-action-btn');
        const searchInput = document.getElementById('search-input');
        const modal = document.getElementById('options-modal');
        const engineButtons = document.querySelectorAll('.search-engines-list button'); 
        const menuToggle = document.getElementById('menu-toggle');
        const sidebar = document.getElementById('sidebar');
        const closeSidebarBtn = document.getElementById('close-sidebar-btn');
        const clearSearchBtn = document.getElementById('clear-search-btn');

        // NOVAS VARIÁVEIS PARA AS ABAS
        const tabBarList = document.getElementById('tab-bar-list');
        const tabItems = document.querySelectorAll('.tab-item');
        const engineGroups = document.querySelectorAll('.search-engine-group');


        // --- Estado Inicial ---
        let currentEngine = {
            name: "Google",
            prefix: "https://www.google.com/search?q="
        };

        // --- Funções do Botão de Limpar ---
        function toggleClearButton() {
            if (searchInput.value.length > 0) {
                clearSearchBtn.classList.add('is-visible');
            } else {
                clearSearchBtn.classList.remove('is-visible');
            }
        }
        
        function clearSearchInput() {
            searchInput.value = '';
            toggleClearButton();
            searchInput.focus();
        }

        // --- Funções da Sidebar ---
        function toggleSidebar() {
            sidebar.classList.toggle('is-open');
        }

        // --- Funções do Modal de Seleção ---
        function openModal() {
            modal.style.display = 'flex';
            void modal.offsetWidth; 
            modal.classList.add('is-visible');
            // Garante que a primeira aba esteja ativa ao abrir
            filterEngines('geral'); 
            // Adiciona a classe ao body para evitar rolagem do fundo
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modal.classList.remove('is-visible');
            // Remove a classe do body para restaurar a rolagem
            document.body.style.overflow = ''; 
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Função para mudar o motor de busca
        function selectEngine(event) {
            const button = event.currentTarget;
            currentEngine.name = button.getAttribute('data-engine-name');
            currentEngine.prefix = button.getAttribute('data-url-prefix');
            
            // Atualiza o placeholder e o aria-label da barra de busca
            searchInput.placeholder = `Pesquisar no ${currentEngine.name}...`;
            searchInput.setAttribute('aria-label', `Barra de Pesquisa no ${currentEngine.name}`);
            
            closeModal();
        }

        // --- Função de Busca (Navegação) ---
        function performSearch() {
            const query = searchInput.value.trim();
            if (query === "") {
                alert(`Por favor, digite um termo para pesquisar no ${currentEngine.name}.`);
                return;
            }
            const encodedQuery = encodeURIComponent(query);
            let searchURL;
            
            // Lógica para motores com prefixos especiais (quando o parâmetro não é 'q=')
            if (currentEngine.name === "Spotify Search" || 
                currentEngine.name === "Metacritic" || 
                currentEngine.name === "Apple App Store" ||
                currentEngine.name === "Crunchyroll") { 
                
                searchURL = currentEngine.prefix + encodedQuery;
            } else if (currentEngine.name === "YouTube Live") {
                // O prefixo já tem 'live+' no final, então basta adicionar a query.
                searchURL = currentEngine.prefix + encodedQuery;
            } else {
                // Caso padrão: A maioria dos motores usa um prefixo que termina em '?' ou '&' seguido pelo nome do parâmetro (ex: q=).
                searchURL = currentEngine.prefix + encodedQuery;
            }

            window.open(searchURL, '_blank');
        }

        // --- FUNÇÃO DE FILTRAGEM DAS ABAS ---
        function filterEngines(category) {
            // 1. Desativa todas as abas
            tabItems.forEach(tab => tab.classList.remove('active'));
            
            // 2. Desativa todos os grupos de motores
            engineGroups.forEach(group => group.classList.remove('active'));

            // 3. Ativa a aba clicada
            const selectedTab = document.querySelector(`.tab-item[data-category="${category}"]`);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }

            // 4. Ativa o grupo de motores correspondente
            const selectedGroup = document.querySelector(`.search-engine-group[data-group="${category}"]`);
            if (selectedGroup) {
                selectedGroup.classList.add('active');
            }
            
            // 5. Rola o container do modal para o topo ao trocar a aba
            const modalContent = document.querySelector('.modal-content');
            if (modalContent) {
                modalContent.scrollTop = 0;
            }
        }
        
        // --- Event Listeners ---
        
        // 1. Sidebar
        menuToggle.addEventListener('click', toggleSidebar);
        closeSidebarBtn.addEventListener('click', toggleSidebar);

        // 2. Modal de Seleção
        optionsButton.addEventListener('click', openModal);
        
        // Atualiza os listeners para os botões dos motores
        document.querySelectorAll('.search-engines-list button').forEach(button => {
            button.removeEventListener('click', selectEngine); // Previne duplicidade
            button.addEventListener('click', selectEngine);
        });
        
        // LISTENER PARA AS ABAS
        tabItems.forEach(tab => {
            tab.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                filterEngines(category);
            });
        });

        // 3. Busca
        searchActionButton.addEventListener('click', performSearch);
        searchInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        });
        
        // Lógica do botão de Apagar
        searchInput.addEventListener('input', toggleClearButton);
        clearSearchBtn.addEventListener('click', clearSearchInput);


        // 4. Fechar ao clicar fora (Modal e Sidebar)
        window.onclick = function(event) {
            // Fechar Modal de Seleção ao clicar no overlay
            // Não precisa mais do cheque de 'event.target === modal' se o modal-content ocupa 100%
            // Mas vamos manter o fechamento ao clicar no overlay (o que deve ser a mesma coisa)
            if (event.target === modal) {
                 closeModal();
            }

            // Fechar Sidebar ao clicar fora dela
            if (sidebar.classList.contains('is-open') && 
                event.target !== menuToggle && 
                !menuToggle.contains(event.target) &&
                !sidebar.contains(event.target)) 
            {
                toggleSidebar();
            }
        };

        // Inicializa o estado do botão de limpar e a aba ao carregar
        document.addEventListener('DOMContentLoaded', () => {
             toggleClearButton(); 
             // Garante que o grupo "Geral" esteja visível
             filterEngines('geral');
        }); 

    </script>
</body>
</html>
