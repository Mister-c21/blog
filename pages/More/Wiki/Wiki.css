/* =================================================================
 * 1. VARI√ÅVEIS DE TEMA (UX DESIGN)
 * ================================================================= */
:root {
    /* üé® Paleta Dark Mode + BlueViolet (Primary) */
    --primary-color: #8a2be2;     /* blueviolet */
    --primary-light: #a052f5;     /* mediumorchid */
    --background-color: #120e1a;  /* Fundo dark (roxo bem escuro) */
    --text-color: #e0e0e0;        /* Texto principal (cinza claro) */
    --text-muted: #a0a0a0;        /* Texto secund√°rio (cinza) */
    --secondary-color: #fff;      /* white */
    
    /* üüß Paleta Fandom (Adi√ß√£o para o Toggle - Destaque Fogo) */
    --fandom-color: #ff4500;      /* OrangeRed */
    
    /* ‚ú® EFEITO DE VIDRO (Glassmorphism) */
    --glass-bg: rgba(255, 255, 255, 0.05); /* Fundo do "vidro" */
    --glass-border: rgba(255, 255, 255, 0.1); /* Borda do "vidro" */
    --blur-value: 10px;                   /* N√≠vel de desfoque */
    
    /* Fontes */
    --font-stack: 'Poppins', 'Helvetica Neue', Arial, sans-serif;
}


/* =================================================================
 * 2. BASE, SCROLLBARS E TIPOGRAFIA
 * ================================================================= */
/* Scrollbar Personalizada */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--background-color); }
::-webkit-scrollbar-thumb {
    background-color: var(--primary-color);
    border-radius: 20px;
    border: 2px solid var(--background-color);
}

body {
    font-family: var(--font-stack);
    margin: 0; padding: 0;
    background-color: var(--background-color);
    /* Efeito de "aura" no fundo */
    background-image: radial-gradient(circle at 80% 20%, rgba(138, 43, 226, 0.2), transparent 50vmax),
                      radial-gradient(circle at 20% 80%, rgba(138, 43, 226, 0.15), transparent 50vmax);
    background-attachment: fixed;
    color: var(--text-color);
    overflow-x: hidden; 
}

/* Ocultar barra de rolagem horizontal dos carross√©is */
.cards-list::-webkit-scrollbar { display: none; }
.cards-list { -ms-overflow-style: none; scrollbar-width: none; }

/* -------------------------------------------------------------------
 * 3. SIDEBAR (MENU LATERAL)
 * ------------------------------------------------------------------- */
.sidebar {
    height: 100%; width: 280px; position: fixed; z-index: 2000; top: 0; left: 0;
    
    /* Efeito de Vidro */
    background-color: var(--glass-bg);
    backdrop-filter: blur(var(--blur-value));
    -webkit-backdrop-filter: blur(var(--blur-value));
    border-right: 1px solid var(--glass-border);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);

    transform: translateX(-100%); 
    transition: transform 0.3s ease-in-out;
    display: flex; flex-direction: column;
}
.sidebar.open { transform: translateX(0); }

.sidebar-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 15px 20px; border-bottom: 1px solid var(--glass-border);
}

.sidebar-logo {
    color: var(--primary-color); font-size: 1.2em; font-weight: 700; margin: 0;
}

.sidebar-header .close-btn {
    display: block; font-size: 2em; font-weight: 300; color: var(--text-color);
    background: none; border: none; cursor: pointer; line-height: 1;
}

/* Link/Bot√£o de IN√çCIO (dentro da sidebar) */
.nav-logo-btn {
    color: var(--secondary-color); background-color: var(--primary-color);
    font-size: 1.1em; font-weight: 700; text-decoration: none;
    padding: 10px 20px; margin: 15px; border-radius: 5px; text-align: center;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 4px 10px rgba(138, 43, 226, 0.4);
    transition: background-color 0.3s;
}
.nav-logo-btn:hover { background-color: var(--primary-light); }
.nav-logo-btn i { margin-right: 8px; }


.sidebar-nav { flex-grow: 1; padding: 10px 0; }
.sidebar-nav ul { list-style: none; padding: 0; margin: 0; }
.sidebar-nav a {
    display: block; padding: 10px 20px; color: var(--text-muted);
    text-decoration: none; transition: color 0.3s;
}
.sidebar-nav a:hover { color: var(--primary-light); }

.sidebar-footer {
    padding: 15px 20px; border-top: 1px solid var(--glass-border);
    font-size: 0.8em; color: var(--text-muted);
}

/* Overlay de Fundo */
.overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.7); z-index: 1999; display: none;
    backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px);
}

/* -------------------------------------------------------------------
 * 4. NAVEGA√á√ÉO SUPERIOR (HEADER) E BUSCA
 * ------------------------------------------------------------------- */
.netflix-nav {
    display: flex; align-items: center; gap: 15px; padding: 10px 15px;
    position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
    box-sizing: border-box;
    
    /* Efeito de Vidro */
    background-color: var(--glass-bg);
    backdrop-filter: blur(var(--blur-value));
    -webkit-backdrop-filter: blur(var(--blur-value));
    border-bottom: 1px solid var(--glass-border);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
    transition: left 0.3s ease-in-out, width 0.3s ease-in-out;
}

/* Bot√£o de Menu Hamb√∫rguer */
.menu-icon {
    cursor: pointer; padding: 5px; background: none; border: none; display: block; 
}
.menu-icon i {
    font-size: 1.4em; color: var(--text-color);
}


/* BARRA DE BUSCA + TOGGLE DUAL (Glassmorphism + Fandom Glow) */
.search-container {
    flex-grow: 1; position: relative; max-width: 500px; 
    margin-right: 15px;
    display: flex; align-items: center;
    background-color: rgba(255, 255, 255, 0.15);
    border: 1px solid var(--primary-light);
    border-radius: 35px; 
    padding: 5px;
    transition: all 0.3s ease;
}

/* Efeito Glow para Modo Fandom */
@keyframes glowing-fandom {
    0% { box-shadow: 0 0 5px rgba(255, 69, 0, 0.4), 0 0 10px rgba(255, 69, 0, 0.2); }
    50% { box-shadow: 0 0 10px var(--fandom-color), 0 0 20px rgba(255, 69, 0, 0.4); }
    100% { box-shadow: 0 0 5px rgba(255, 69, 0, 0.4), 0 0 10px rgba(255, 69, 0, 0.2); }
}
.search-container.fandom-active {
    background-color: rgba(255, 69, 0, 0.1) !important; 
    border-color: var(--fandom-color) !important;
    animation: glowing-fandom 2s infinite alternate;
}

#search-bar {
    width: 100%; 
    padding: 8px 10px 8px 40px; 
    border: none; background: transparent;
    color: var(--text-color); font-size: 1em; outline: none;
}
.search-container.fandom-active #search-bar {
    color: var(--text-color); 
}

/* Ajuste do √çcone de Busca */
.search-icon-inside {
    position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
    color: var(--primary-color); font-size: 1.1em; pointer-events: none;
}
.search-container.fandom-active .search-icon-inside {
    color: var(--fandom-color); 
}

/* --- ESTILO DO BOT√ÉO TOGGLE (SWITCH) --- */
.search-toggle-switch-container { 
    position: relative; flex-shrink: 0; margin-left: 5px; margin-right: 5px;
}
.search-toggle-checkbox { display: none; }
.search-toggle-label {
    position: relative; display: block; width: 85px; height: 32px; 
    cursor: pointer; background-color: var(--primary-color); 
    border-radius: 32px; transition: background-color 0.4s;
    overflow: hidden; border: 1px solid rgba(255,255,255,0.2);
}
.slider {
    position: absolute; content: ""; height: 24px; width: 24px; 
    left: 4px; bottom: 3px; background-color: #fff; 
    transition: 0.4s; box-shadow: 0 0 5px rgba(0, 0, 0, 0.4); border-radius: 50%; z-index: 2;
}
/* Estado Checked (Fandom) */
.search-toggle-checkbox:checked + .search-toggle-label { background-color: var(--fandom-color); }
.search-toggle-checkbox:checked + .search-toggle-label .slider { transform: translateX(51px); }

/* √çcones e Texto dentro do Toggle */
.toggle-icon { 
    position: absolute; color: #fff; font-size: 1em; top: 50%; 
    transform: translateY(-50%); transition: opacity 0.4s; z-index: 1; 
}
.filter-icon { left: 8px; }
.fandom-icon { right: 8px; opacity: 0; }
.search-toggle-checkbox:checked + .search-toggle-label .filter-icon { opacity: 0; }
.search-toggle-checkbox:checked + .search-toggle-label .fandom-icon { opacity: 1; }

.search-mode-indicator { 
    position: absolute; font-size: 0.65em; font-weight: 700; color: #fff; 
    top: 50%; transform: translateY(-50%); white-space: nowrap; 
    transition: all 0.4s; text-transform: uppercase; z-index: 1; 
}
.filter-mode { left: 35px; opacity: 1; }
.fandom-mode { right: 35px; opacity: 0; }
.search-toggle-checkbox:checked + .search-toggle-label .filter-mode { opacity: 0; }
.search-toggle-checkbox:checked + .search-toggle-label .fandom-mode { opacity: 1; right: auto; left: 10px; }


.hero-banner { background: transparent; height: 1px; margin-top: 80px; }


/* -------------------------------------------------------------------
 * 5. CARDS E LISTAS (TEMA CRUNCHYROLL / DARK)
 * ------------------------------------------------------------------- */
.row-title {
    padding: 0 15px; margin-top: 30px; margin-bottom: 15px;
    font-size: 1.5em; color: var(--text-color); font-weight: 700;
}
.cards-list {
    display: flex; overflow-x: scroll; padding: 0 15px 20px 15px; 
    gap: 15px; scroll-behavior: smooth;
}

/* NOVO CSS PARA O CARD (Consolidado) */
.card {
    background-color: transparent; border-radius: 0;
    min-width: 150px; width: 150px; height: auto; 
    cursor: pointer; position: relative; transition: transform 0.3s; 
    flex-shrink: 0; 
}
.card:hover { transform: scale(1.05); z-index: 10; }

/* Container da Imagem */
.card-image-container {
    width: 100%; aspect-ratio: 2 / 3; border-radius: 8px; overflow: hidden;
    /* Efeito de Vidro SUTIL como fundo */
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.card-image { width: 100%; height: 100%; object-fit: cover; }

/* Informa√ß√£o (T√≠tulo) */
.card-info { padding: 8px 0; }
.card h3 {
    font-size: 0.9em; font-weight: 500; margin: 0; white-space: nowrap;
    overflow: hidden; text-overflow: ellipsis; color: var(--text-muted);
}
.card:hover h3 { color: var(--text-color); }


/* -------------------------------------------------------------------
 * 6. MODAL (FULL-SCREEN DARK/GLASS)
 * ------------------------------------------------------------------- */
.modal {
    display: none; position: fixed; z-index: 10000; left: 0; top: 0;
    width: 100%; height: 100%; overflow: auto; 
    background-color: rgba(0, 0, 0, 0.4); backdrop-filter: blur(5px);
}

.modal-content {
    /* Efeito de Vidro Principal do Modal */
    background-color: var(--glass-bg);
    backdrop-filter: blur(var(--blur-value));
    -webkit-backdrop-filter: blur(var(--blur-value));
    border: 1px solid var(--glass-border);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
    
    background-image: radial-gradient(circle at 100% 0%, rgba(138, 43, 226, 0.2), transparent 40vmax);
    
    margin: 0; padding: 15px; width: 100%; height: 100%; 
    max-width: 100vw; max-height: 100vh; box-sizing: border-box;
    overflow-y: auto; border-radius: 0; color: var(--text-color);
}

.close-btn {
    color: var(--primary-color); position: fixed; top: 10px; right: 15px;
    font-size: 30px; font-weight: bold; cursor: pointer; z-index: 10001;
    background: rgba(30, 30, 30, 0.8); border: 1px solid var(--glass-border);
    border-radius: 50%; width: 35px; height: 35px; line-height: 35px;
    text-align: center; box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    transition: color 0.3s, background-color 0.3s;
}
.close-btn:hover { color: var(--secondary-color); background: var(--primary-color); }

.modal-flex-content { display: flex; flex-direction: column; gap: 20px; }
.modal-sidebar { flex: auto; order: -1; }
.modal-cover-image {
    width: 100%; height: auto; max-height: 250px; 
    object-fit: cover; margin-bottom: 15px; border-radius: 8px;
    border: 1px solid var(--glass-border);
}

/* T√≠tulos do Modal */
.modal h2, .modal h3, .modal h4 { color: var(--secondary-color); font-weight: 700; }
.modal p { color: var(--text-muted); }
.modal a { color: var(--primary-light); }
.modal-category-tag {
    background: var(--primary-color); padding:2px 8px; border-radius:4px; font-size:0.8em; font-weight: 700;
}

/* Spotify e Trailers */
.spotify-section, .trailer-container iframe { 
    border-radius: 8px; 
    border: 1px solid var(--glass-border); 
}

/* üü¢ C√ìDIGO ATUALIZADO PARA AUMENTAR O V√çDEO (Aspect Ratio 16:9) */
.trailer-container {
    position: relative; 
    width: 100%;
    /* Define a propor√ß√£o 16:9: (9 / 16) * 100% = 56.25% */
    padding-bottom: 56.25%; 
    height: 0;
    overflow: hidden;
    margin-bottom: 20px; 
}

.trailer-container iframe {
    position: absolute; 
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* Mant√©m os estilos visuais de borda */
    border-radius: 8px; 
    border: 1px solid var(--glass-border);
}
/* -------------------------------------------------------------- */


/* Wikipedia e Sites Relacionados (Acorde√£o Dark/Glass) */
.wikipedia-box, .related-sites-section {
    padding: 15px; background-color: var(--glass-bg);
    border: 1px solid var(--primary-color); border-radius: 8px; margin: 15px 0;
}
.wikipedia-box h3, .related-sites-section h4 { color: var(--primary-color); }

.wikipedia-preview-item {
    background-color: rgba(0,0,0,0.1); 
    border: 1px solid var(--glass-border);
    border-radius: 6px; margin-bottom: 8px; 
    cursor: pointer; overflow: hidden;
    transition: all 0.3s ease;
}
.wikipedia-preview-item:hover {
    border-color: var(--primary-light); background-color: rgba(0,0,0,0.2);
}

.wikipedia-preview-header {
    padding: 10px; background-color: var(--primary-color);
    color: var(--secondary-color); font-weight: 500;
    display: flex; justify-content: space-between; align-items: center;
}
.wikipedia-preview-header i {
    transition: transform 0.3s;
}

.wikipedia-preview-content {
    max-height: 0;
    padding: 0 10px;
    overflow: hidden;
    transition: max-height 0.4s ease-out, padding 0.4s ease-out;
}
.wikipedia-preview-item.active .wikipedia-preview-content {
    max-height: 250px; 
    padding: 10px;
}
.wikipedia-preview-item.active .wikipedia-preview-header i {
    transform: rotate(180deg);
}

.wikipedia-preview-content p {
    font-size: 0.8em; margin-top: 0; margin-bottom: 10px;
}
.wikipedia-preview-content a { color: var(--primary-light); text-decoration: none; font-weight: 600; }


.site-link-item {
    display: flex; align-items: center; gap: 10px; padding: 8px 0;
    border-bottom: 1px solid var(--glass-border); color: var(--text-color);
    text-decoration: none; transition: background-color 0.2s;
}
.site-link-item:hover { background-color: rgba(138, 43, 226, 0.1); }
.site-link-item i { color: var(--primary-color); }

.site-info strong { display: block; font-size: 0.9em; font-weight: 600; }
.site-info span { font-size: 0.75em; color: var(--text-muted); }

/* Trailers Thumbnails */
.trailer-thumbnails-list {
    display: flex; overflow-x: auto; 
    padding: 10px 0; gap: 10px;
}
.trailer-thumbnail-item {
    flex-shrink: 0; width: 150px; height: 85px; border-radius: 6px;
    overflow: hidden; cursor: pointer; position: relative;
    border: 3px solid transparent; transition: all 0.2s ease;
}
.trailer-thumbnail-item.active {
    border-color: var(--primary-color); 
    box-shadow: 0 0 10px var(--primary-color);
}
.trailer-thumbnail-item img {
    width: 100%; height: 100%; object-fit: cover;
}
.thumbnail-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(138, 43, 226, 0.7); 
    display: flex; flex-direction: column; justify-content: center;
    align-items: center; color: var(--secondary-color);
    opacity: 0; transition: opacity 0.2s; padding: 5px;
}
.trailer-thumbnail-item:hover .thumbnail-overlay { opacity: 1; }
.thumbnail-overlay i { font-size: 1.5em; margin-bottom: 3px; }
.thumbnail-overlay span { font-size: 0.7em; text-align: center; }

/* Elenco */
.cast-list-container {
    display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px;
}
.cast-member { flex-shrink: 0; text-align: center; width: 60px; }
.cast-photo {
    width: 60px; height: 60px; border-radius: 50%; object-fit: cover;
    border: 2px solid var(--primary-color);
}
.cast-name { display: block; font-size: 0.7em; margin-top: 5px; color: var(--text-muted); }


/* -------------------------------------------------------------------
 * 7. MEDIA QUERIES (Responsividade)
 * ------------------------------------------------------------------- */
@media (min-width: 601px) {
    .netflix-nav { padding: 15px 30px; }
    .cards-list { padding: 0 30px 30px 30px; }
    .card { min-width: 180px; width: 180px; }
    .card:hover { transform: scale(1.1) translateY(-10px); }
    
    /* Modal Flex */
    .modal-flex-content { flex-direction: row; }
    .modal-sidebar { flex: 0 0 250px; order: 0; }
    .modal-cover-image { max-height: none; }
}

@media (min-width: 1025px) {
    /* Desktop: Sidebar fixa */
    .sidebar { transform: translateX(0); box-shadow: 1px 0 5px rgba(0, 0, 0, 0.1); }
    .sidebar-header .close-btn { display: none; }
    .overlay { display: none !important; }
    
    /* Empurra o conte√∫do principal */
    body { padding-left: 280px; }
    .netflix-nav { left: 280px; width: calc(100% - 280px); }
    .menu-icon { display: none; }

    /* Cards */
    .card { min-width: 200px; width: 200px; }
    .card:hover { 
        transform: scale(1.15) translateY(-15px); 
        box-shadow: 0 15px 40px rgba(138, 43, 226, 0.3); 
    }
    
    /* Modal */
    .modal-sidebar { flex: 0 0 350px; }
        }
